

  
    
  


  




  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.38 with theme Tranquilpeak 0.4.3-BETA">
    <title>[UE4]注意事项与笔记</title>
    <meta name="author" content="Neil Wang">
    <meta name="keywords" content="">

    <link rel="icon" href="http://www.dawnarc.com/favicon.png">
    

    
    <meta name="description" content="我的老博客中的UE4文章（一百八十多篇，未迁移，和此博客的UE4文章不重叠）
http://aigo.iteye.com/category/347833
【2015-12-06】
如何添加自己的C&#43;&#43;代码
如果是添加Character C&#43;&#43;代码，是在UE4 Editor中添加的，但是如果想添加一些与UE4引擎无关的c&#43;&#43;代码，比如网络通讯的，或者一些工具类，必须也在UE4 Editor中添加（至少我现在用的4.10版本是这样），如果在VS中直接添加，会出现一些奇怪的编译错误。UE4 Editor中添加自定义C&#43;&#43;代码方式如下： File -&gt; New C&#43;&#43; Class -&gt; 选择None，然后即可创建自己C&#43;&#43;代码
UE4还写莫名其妙的bug，这些bug可能是与引擎升级有关，可参考解决办法：重新建个空的工程，然后把你现在项目的资源文件重新加进去，然后在编译和构建。
我的windows10上遇到的奇怪问题有：
(1)，项目自定义的GameMode没生效，进游戏是默认的自由摄像机控制器。这个问题我没有重新建工程，而是把level删掉重新建了一次。
(2)，打包安卓Android部署时，提示错误：DistributionSigning settings are not all set. Check the DistributionSetting
【2016-05-15】
如果项目中使用了LoadClass，那么蓝图相关的class构造函数中不要执行和实例化对象相关的操作，因为当执行LoadClass时也会把对应class的构造函数执行一遍（即使我们没有手动执行spawn或者create等函数，原因是LoadClass执行了LoadObject，而LoadObject内部又会执行ConstructorHelpers::FObjectFinder()，所以会触发class的构造函数，比如自己新建了一个UserWidget class，这个class的默认构造函数会在LoadClass时被执行一次），建议将初始化操作放在Initialize、BeginPlay等函数中。
【2016-05-17】
内存溢出导致的问题：在用FString拼接字符串的时候，抛了一个异常，但是相同的代码在另一个地方是正常的，两个地方都是非GameThread，崩掉的位置发在调用FString::FromInt()。后来用itoa代替就正常了。很可能是逻辑代码有内存溢出的bug。
【2016-06-02】
如果同一属性在蓝图编辑器中和C&#43;&#43;中的值不同，那么蓝图中的属性值会shadow掉C&#43;&#43;构造函数中的值。如果想让C&#43;&#43;的值shadow蓝图的值，那么可以在C&#43;&#43;的BeginPlay等非构造函数的初始化函数中设置属性（这里假设没有在蓝图逻辑脚本中对属性设置）。 新建蓝图时，蓝图的属性会遵循C&#43;&#43;父类中的构造函数中的属性设置。
【2016-08-16】
用C&#43;&#43;动态创建Component时（NewObject()），在AttachToComponent之前，需要执行RegisterComponent,否则无法Attach成功。备注：只有NewObject创建出来的Component才需要执行ResisterComponent，SpawnActor和ConstructorHelpers创建的对象则不需要。
【2016-09-23】
UE4中的C&#43;&#43;类继承规则：只能直接继承自两种类，一种是非UObject类，一种是继承过UInterface的UObject类。如果一个类是UObject且其父类没有一个是UInterface，则无法编译通过。
如果同一批美术材质，在两个不同工程下的渲染效果不一样，比如同一个粒子特效，实际效果在两个工程中有差异，则可能是工程的设置项问题。解决办法：将两个工程中的Config/DefaultEngine.ini中的[/Script/Engine.RendererSettings】配置参数，设置统一即可。
如果spawn出来的actor执行了AddToRoot操作，那么，需要GameInstance::Shutdown()中执行RemoveFromRoot，否则退出UE4Editor时会出现崩溃。另外，在GameMode和GameInstance的BeginDestroy()中执行是不行的，因为垃圾回收过程发生在BeginDestroy()执行之前。
【2017-02-06】
用宏控制debug相关代码的开启和关闭
#if UE_BUILD_SHIPPING //debug code... #endif  UE4数据同步相关的引擎源码
Runtime\Engine\Private\ActorReplication.cpp Runtime\Engine\Private\ Replication.cpp Runtime\Engine\Public\Net \DataReplication.cpp Engine\Plugins\Messaging\TcpMessaging\Source\TcpMessaging\Private\TcpMessagingModule.cpp  FActorSpawnParameters意义
SpawnActor()有个参数：FActorSpawnParameters，这个参数中有很多属性，设置相关属性后，可以更方便的来控制这个被spawn出来的Actor，比如Owner属性：
FActorSpawnParameters Param; Param.Owner = MyActor1; AActor MyActor2 = GetWorld()-&gt;SpawnActor&lt;MyActor&gt;(MyClass, Param); //此时的Owner就是MyActor1 MyActor Owner= MyActor2-&gt;GetOwner();  获取当前角色视角的起始location和rotation">
    <meta property="og:description" content="我的老博客中的UE4文章（一百八十多篇，未迁移，和此博客的UE4文章不重叠）
http://aigo.iteye.com/category/347833
【2015-12-06】
如何添加自己的C&#43;&#43;代码
如果是添加Character C&#43;&#43;代码，是在UE4 Editor中添加的，但是如果想添加一些与UE4引擎无关的c&#43;&#43;代码，比如网络通讯的，或者一些工具类，必须也在UE4 Editor中添加（至少我现在用的4.10版本是这样），如果在VS中直接添加，会出现一些奇怪的编译错误。UE4 Editor中添加自定义C&#43;&#43;代码方式如下： File -&gt; New C&#43;&#43; Class -&gt; 选择None，然后即可创建自己C&#43;&#43;代码
UE4还写莫名其妙的bug，这些bug可能是与引擎升级有关，可参考解决办法：重新建个空的工程，然后把你现在项目的资源文件重新加进去，然后在编译和构建。
我的windows10上遇到的奇怪问题有：
(1)，项目自定义的GameMode没生效，进游戏是默认的自由摄像机控制器。这个问题我没有重新建工程，而是把level删掉重新建了一次。
(2)，打包安卓Android部署时，提示错误：DistributionSigning settings are not all set. Check the DistributionSetting
【2016-05-15】
如果项目中使用了LoadClass，那么蓝图相关的class构造函数中不要执行和实例化对象相关的操作，因为当执行LoadClass时也会把对应class的构造函数执行一遍（即使我们没有手动执行spawn或者create等函数，原因是LoadClass执行了LoadObject，而LoadObject内部又会执行ConstructorHelpers::FObjectFinder()，所以会触发class的构造函数，比如自己新建了一个UserWidget class，这个class的默认构造函数会在LoadClass时被执行一次），建议将初始化操作放在Initialize、BeginPlay等函数中。
【2016-05-17】
内存溢出导致的问题：在用FString拼接字符串的时候，抛了一个异常，但是相同的代码在另一个地方是正常的，两个地方都是非GameThread，崩掉的位置发在调用FString::FromInt()。后来用itoa代替就正常了。很可能是逻辑代码有内存溢出的bug。
【2016-06-02】
如果同一属性在蓝图编辑器中和C&#43;&#43;中的值不同，那么蓝图中的属性值会shadow掉C&#43;&#43;构造函数中的值。如果想让C&#43;&#43;的值shadow蓝图的值，那么可以在C&#43;&#43;的BeginPlay等非构造函数的初始化函数中设置属性（这里假设没有在蓝图逻辑脚本中对属性设置）。 新建蓝图时，蓝图的属性会遵循C&#43;&#43;父类中的构造函数中的属性设置。
【2016-08-16】
用C&#43;&#43;动态创建Component时（NewObject()），在AttachToComponent之前，需要执行RegisterComponent,否则无法Attach成功。备注：只有NewObject创建出来的Component才需要执行ResisterComponent，SpawnActor和ConstructorHelpers创建的对象则不需要。
【2016-09-23】
UE4中的C&#43;&#43;类继承规则：只能直接继承自两种类，一种是非UObject类，一种是继承过UInterface的UObject类。如果一个类是UObject且其父类没有一个是UInterface，则无法编译通过。
如果同一批美术材质，在两个不同工程下的渲染效果不一样，比如同一个粒子特效，实际效果在两个工程中有差异，则可能是工程的设置项问题。解决办法：将两个工程中的Config/DefaultEngine.ini中的[/Script/Engine.RendererSettings】配置参数，设置统一即可。
如果spawn出来的actor执行了AddToRoot操作，那么，需要GameInstance::Shutdown()中执行RemoveFromRoot，否则退出UE4Editor时会出现崩溃。另外，在GameMode和GameInstance的BeginDestroy()中执行是不行的，因为垃圾回收过程发生在BeginDestroy()执行之前。
【2017-02-06】
用宏控制debug相关代码的开启和关闭
#if UE_BUILD_SHIPPING //debug code... #endif  UE4数据同步相关的引擎源码
Runtime\Engine\Private\ActorReplication.cpp Runtime\Engine\Private\ Replication.cpp Runtime\Engine\Public\Net \DataReplication.cpp Engine\Plugins\Messaging\TcpMessaging\Source\TcpMessaging\Private\TcpMessagingModule.cpp  FActorSpawnParameters意义
SpawnActor()有个参数：FActorSpawnParameters，这个参数中有很多属性，设置相关属性后，可以更方便的来控制这个被spawn出来的Actor，比如Owner属性：
FActorSpawnParameters Param; Param.Owner = MyActor1; AActor MyActor2 = GetWorld()-&gt;SpawnActor&lt;MyActor&gt;(MyClass, Param); //此时的Owner就是MyActor1 MyActor Owner= MyActor2-&gt;GetOwner();  获取当前角色视角的起始location和rotation">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="[UE4]注意事项与笔记">
    <meta property="og:url" content="/2015/12/ue4%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%E4%B8%8E%E7%AC%94%E8%AE%B0/">
    <meta property="og:site_name" content="玄冬Wong">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="玄冬Wong">
    <meta name="twitter:description" content="我的老博客中的UE4文章（一百八十多篇，未迁移，和此博客的UE4文章不重叠）
http://aigo.iteye.com/category/347833
【2015-12-06】
如何添加自己的C&#43;&#43;代码
如果是添加Character C&#43;&#43;代码，是在UE4 Editor中添加的，但是如果想添加一些与UE4引擎无关的c&#43;&#43;代码，比如网络通讯的，或者一些工具类，必须也在UE4 Editor中添加（至少我现在用的4.10版本是这样），如果在VS中直接添加，会出现一些奇怪的编译错误。UE4 Editor中添加自定义C&#43;&#43;代码方式如下： File -&gt; New C&#43;&#43; Class -&gt; 选择None，然后即可创建自己C&#43;&#43;代码
UE4还写莫名其妙的bug，这些bug可能是与引擎升级有关，可参考解决办法：重新建个空的工程，然后把你现在项目的资源文件重新加进去，然后在编译和构建。
我的windows10上遇到的奇怪问题有：
(1)，项目自定义的GameMode没生效，进游戏是默认的自由摄像机控制器。这个问题我没有重新建工程，而是把level删掉重新建了一次。
(2)，打包安卓Android部署时，提示错误：DistributionSigning settings are not all set. Check the DistributionSetting
【2016-05-15】
如果项目中使用了LoadClass，那么蓝图相关的class构造函数中不要执行和实例化对象相关的操作，因为当执行LoadClass时也会把对应class的构造函数执行一遍（即使我们没有手动执行spawn或者create等函数，原因是LoadClass执行了LoadObject，而LoadObject内部又会执行ConstructorHelpers::FObjectFinder()，所以会触发class的构造函数，比如自己新建了一个UserWidget class，这个class的默认构造函数会在LoadClass时被执行一次），建议将初始化操作放在Initialize、BeginPlay等函数中。
【2016-05-17】
内存溢出导致的问题：在用FString拼接字符串的时候，抛了一个异常，但是相同的代码在另一个地方是正常的，两个地方都是非GameThread，崩掉的位置发在调用FString::FromInt()。后来用itoa代替就正常了。很可能是逻辑代码有内存溢出的bug。
【2016-06-02】
如果同一属性在蓝图编辑器中和C&#43;&#43;中的值不同，那么蓝图中的属性值会shadow掉C&#43;&#43;构造函数中的值。如果想让C&#43;&#43;的值shadow蓝图的值，那么可以在C&#43;&#43;的BeginPlay等非构造函数的初始化函数中设置属性（这里假设没有在蓝图逻辑脚本中对属性设置）。 新建蓝图时，蓝图的属性会遵循C&#43;&#43;父类中的构造函数中的属性设置。
【2016-08-16】
用C&#43;&#43;动态创建Component时（NewObject()），在AttachToComponent之前，需要执行RegisterComponent,否则无法Attach成功。备注：只有NewObject创建出来的Component才需要执行ResisterComponent，SpawnActor和ConstructorHelpers创建的对象则不需要。
【2016-09-23】
UE4中的C&#43;&#43;类继承规则：只能直接继承自两种类，一种是非UObject类，一种是继承过UInterface的UObject类。如果一个类是UObject且其父类没有一个是UInterface，则无法编译通过。
如果同一批美术材质，在两个不同工程下的渲染效果不一样，比如同一个粒子特效，实际效果在两个工程中有差异，则可能是工程的设置项问题。解决办法：将两个工程中的Config/DefaultEngine.ini中的[/Script/Engine.RendererSettings】配置参数，设置统一即可。
如果spawn出来的actor执行了AddToRoot操作，那么，需要GameInstance::Shutdown()中执行RemoveFromRoot，否则退出UE4Editor时会出现崩溃。另外，在GameMode和GameInstance的BeginDestroy()中执行是不行的，因为垃圾回收过程发生在BeginDestroy()执行之前。
【2017-02-06】
用宏控制debug相关代码的开启和关闭
#if UE_BUILD_SHIPPING //debug code... #endif  UE4数据同步相关的引擎源码
Runtime\Engine\Private\ActorReplication.cpp Runtime\Engine\Private\ Replication.cpp Runtime\Engine\Public\Net \DataReplication.cpp Engine\Plugins\Messaging\TcpMessaging\Source\TcpMessaging\Private\TcpMessagingModule.cpp  FActorSpawnParameters意义
SpawnActor()有个参数：FActorSpawnParameters，这个参数中有很多属性，设置相关属性后，可以更方便的来控制这个被spawn出来的Actor，比如Owner属性：
FActorSpawnParameters Param; Param.Owner = MyActor1; AActor MyActor2 = GetWorld()-&gt;SpawnActor&lt;MyActor&gt;(MyClass, Param); //此时的Owner就是MyActor1 MyActor Owner= MyActor2-&gt;GetOwner();  获取当前角色视角的起始location和rotation">
    
      <meta name="twitter:creator" content="@idealsland">
    
    

    
    

    
      <meta property="og:image" content="//www.gravatar.com/avatar/0df91cdac5811a56ca485b0449d91b5e?s=640">
    

    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="http://www.dawnarc.com/css/style-jsjn0006wyhpyzivf6yceb31gvpjatbcs3qzjvlumobfnugccvobqwxnnaj8.min.css" />
    
    
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/solarized-light.min.css">
      
    

    
      
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-78064851-2', 'auto');
ga('send', 'pageview');
</script>

    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="http://www.dawnarc.com/">玄冬Wong</a>
  </div>
  
    
      <a class="header-right-picture "
         href="http://www.dawnarc.com/#about">
    
    
    
      
        <img class="header-picture" src="//www.gravatar.com/avatar/0df91cdac5811a56ca485b0449d91b5e?s=90" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="http://www.dawnarc.com/#about">
          <img class="sidebar-profile-picture" src="//www.gravatar.com/avatar/0df91cdac5811a56ca485b0449d91b5e?s=110" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Neil Wang</h4>
        
          <h5 class="sidebar-profile-bio">久长唯有品格</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://www.dawnarc.com/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://www.dawnarc.com/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://www.dawnarc.com/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://www.dawnarc.com/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://www.dawnarc.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://www.dawnarc.com/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://stackoverflow.com/users/1645289/protoss" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-stack-overflow"></i>
      
      <span class="sidebar-button-desc">Stack Overflow</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.artstation.com/artist/dawnarc" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-artstation"></i>
      
      <span class="sidebar-button-desc">ArtStation</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.facebook.com/koanland" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-facebook"></i>
      
      <span class="sidebar-button-desc">Facebook</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/dawnarc/CV" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://www.linkedin.com/in/dawnarc/" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-linkedin"></i>
      
      <span class="sidebar-button-desc">Linkedin</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.pinterest.com/wangaiguo/" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-pinterest"></i>
      
      <span class="sidebar-button-desc">Pinterest</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://steamcommunity.com/id/dawnarc" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-steam"></i>
      
      <span class="sidebar-button-desc">Steam</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://twitter.com/idealsland" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
      
      <span class="sidebar-button-desc">Twitter</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://weibo.com/koanland" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-weibo"></i>
      
      <span class="sidebar-button-desc">Weibo</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      [UE4]注意事项与笔记
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2015-12-06T22:50:40&#43;08:00">
        
  December 6, 2015

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="http://www.dawnarc.com/categories/unrealengine4">UnrealEngine4</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <p>我的老博客中的UE4文章（一百八十多篇，未迁移，和此博客的UE4文章不重叠）<br />
<a href="http://aigo.iteye.com/category/347833">http://aigo.iteye.com/category/347833</a></p>

<p>【2015-12-06】<br />
如何添加自己的C++代码<br />
如果是添加Character C++代码，是在UE4 Editor中添加的，但是如果想添加一些与UE4引擎无关的c++代码，比如网络通讯的，或者一些工具类，必须也在UE4 Editor中添加（至少我现在用的4.10版本是这样），如果在VS中直接添加，会出现一些奇怪的编译错误。UE4 Editor中添加自定义C++代码方式如下：
File -&gt; New C++ Class -&gt; 选择None，然后即可创建自己C++代码</p>

<p>UE4还写莫名其妙的bug，这些bug可能是与引擎升级有关，可参考解决办法：重新建个空的工程，然后把你现在项目的资源文件重新加进去，然后在编译和构建。</p>

<p>我的windows10上遇到的奇怪问题有：</p>

<p>(1)，项目自定义的GameMode没生效，进游戏是默认的自由摄像机控制器。这个问题我没有重新建工程，而是把level删掉重新建了一次。</p>

<p>(2)，打包安卓Android部署时，提示错误：DistributionSigning settings are not all set. Check the DistributionSetting</p>

<p>【2016-05-15】<br />
如果项目中使用了LoadClass<T>，那么蓝图相关的class构造函数中不要执行和实例化对象相关的操作，因为当执行LoadClass时也会把对应class的构造函数执行一遍（即使我们没有手动执行spawn或者create等函数，原因是LoadClass执行了LoadObject，而LoadObject内部又会执行ConstructorHelpers::FObjectFinder()，所以会触发class的构造函数，比如自己新建了一个UserWidget class，这个class的默认构造函数会在LoadClass时被执行一次），建议将初始化操作放在Initialize、BeginPlay等函数中。</p>

<p>【2016-05-17】<br />
内存溢出导致的问题：在用FString拼接字符串的时候，抛了一个异常，但是相同的代码在另一个地方是正常的，两个地方都是非GameThread，崩掉的位置发在调用FString::FromInt()。后来用itoa代替就正常了。很可能是逻辑代码有内存溢出的bug。</p>

<p>【2016-06-02】<br />
如果同一属性在蓝图编辑器中和C++中的值不同，那么蓝图中的属性值会shadow掉C++构造函数中的值。如果想让C++的值shadow蓝图的值，那么可以在C++的BeginPlay等非构造函数的初始化函数中设置属性（这里假设没有在蓝图逻辑脚本中对属性设置）。
新建蓝图时，蓝图的属性会遵循C++父类中的构造函数中的属性设置。</p>

<p>【2016-08-16】<br />
用C++动态创建Component时（NewObject<Component>()），在<code>AttachToComponent</code>之前，需要执行<code>RegisterComponent</code>,否则无法Attach成功。备注：只有NewObject创建出来的Component才需要执行ResisterComponent，SpawnActor和ConstructorHelpers创建的对象则不需要。</p>

<p>【2016-09-23】<br />
UE4中的C++类继承规则：只能直接继承自两种类，一种是非UObject类，一种是继承过UInterface的UObject类。如果一个类是UObject且其父类没有一个是UInterface，则无法编译通过。</p>

<p>如果同一批美术材质，在两个不同工程下的渲染效果不一样，比如同一个粒子特效，实际效果在两个工程中有差异，则可能是工程的设置项问题。解决办法：将两个工程中的Config/DefaultEngine.ini中的[/Script/Engine.RendererSettings】配置参数，设置统一即可。</p>

<p>如果spawn出来的actor执行了AddToRoot操作，那么，需要GameInstance::Shutdown()中执行RemoveFromRoot，否则退出UE4Editor时会出现崩溃。另外，在GameMode和GameInstance的BeginDestroy()中执行是不行的，因为垃圾回收过程发生在BeginDestroy()执行之前。</p>

<p>【2017-02-06】<br />
用宏控制debug相关代码的开启和关闭</p>

<pre><code>#if UE_BUILD_SHIPPING
    //debug code...
#endif
</code></pre>

<p>UE4数据同步相关的引擎源码</p>

<pre><code>Runtime\Engine\Private\ActorReplication.cpp
Runtime\Engine\Private\ Replication.cpp
Runtime\Engine\Public\Net \DataReplication.cpp
Engine\Plugins\Messaging\TcpMessaging\Source\TcpMessaging\Private\TcpMessagingModule.cpp
</code></pre>

<p>FActorSpawnParameters意义<br />
SpawnActor()有个参数：FActorSpawnParameters，这个参数中有很多属性，设置相关属性后，可以更方便的来控制这个被spawn出来的Actor，比如Owner属性：</p>

<pre><code>FActorSpawnParameters Param;
Param.Owner = MyActor1;  
AActor MyActor2 = GetWorld()-&gt;SpawnActor&lt;MyActor&gt;(MyClass, Param);
//此时的Owner就是MyActor1
MyActor Owner= MyActor2-&gt;GetOwner();
</code></pre>

<p>获取当前角色视角的起始location和rotation<br />
APawn::GetActorEyesViewPoint();</p>

<p>获取模型刚体尺寸的相关API<br />
AActor::GetSimpleCollisionXXXX()
比如：AActor::GetSimpleCollisionHalfHeight()、AActor::GetSimpleCollisionRadius()</p>

<p>【2017-02-08 21:00】<br />
AActot::FinishSpawning()的作用<br />
一个Actor被Spawn出来之后，再调用FinishSpawning，会触发OnConstruct()、PostInitializeComponents()、BeginPlay()等函数。</p>

<p>Rotation、Vector转换为Matrix的API<br />
FRotationMatrix(const FRotator&amp; Rot)，其父类为FRotationTranslationMatrix(const FRotator&amp; Rot, const FVector&amp; Origin);</p>

<p>【2017-02-14 15:06】<br />
UE4Editor命令行执行GM命令的方式<br />
在非shipping模式下，按下波浪键，输入：AdminCheat PlayerController中的函数名 参数1 参数2 …… 。<br />
比如：AdminCheat TestFun 11 abc<br />
敲回车后，就会去执行自定义PlayerController中的TestFun函数，参数的两个参数值为11、abc。</p>

<p>【2017-02-20】<br />
AActor::OwnedComponents<br />
OwnedComponents是当前Actor所拥有的所有Components。</p>

<p>UWorld::TimeSince(double time)<br />
返回time与当前系统时间的时间差。</p>

<p>AActor::GetWorldTimerManager().SetTimerForNextTick()<br />
设置下一个tick期间执行的回调函数。</p>

<p>AActor::ForceNetUpdate()<br />
强制并立即将当前actor的数据更新到客户端。</p>

<p>UPritimiComponent::MoveIngoreActors<br />
如果希望当前actor移动或者触发Overlap事件时，忽略掉和某些Component之前的物理计算，则可以将这些Component加入MoveIngoreActors。</p>

<p>UPrimitiveComponent作用<br />
注释中的解释是：PrimitiveComponent通常包括：ShapeComponents，StaticMeshComponent，SkeletalMeshComponent。</p>

<p>【2017-02-23】<br />
FRotator::RotateVector(const FVector&amp; V) 与 FMatrix::TransformVector()区别<br />
两者都是用来对方向向量进行转向计算的，FRotator::RotateVector()只是对FMatrix::TransformVector进行了封装，FMatrix::TransformVector是一般数学函数库都提供的函数，FRotator::RotateVector()是UE4放了方便作Vector转向计算，将FVector转换为FMatrix的操作封装在RotateVector()函数内部。<br />
Unity3D提供的类似封装为：function TransformDirection (direction : Vector3) : Vector3</p>

<p>CharacterMovementComponent一些重要接口：IsWalkable()、PhysWalking()、PhysFlying()、PhysCustom()</p>

<p>【2017-02-28】</p>

<p>设置Character的自定义MovemenComponentt或者CapsuleComponent<br />
在构造函数中设置：</p>

<p>旧版本方式</p>

<pre><code>MyCharacter:: MyCharacter(const FPostConstructInitializeProperties&amp; PCIP) : Super(PCIP.SetDefaultSubobjectClass&lt;MyCharacterMovement&gt;(ACharacter::CharacterMovementComponent))
{
}
</code></pre>

<p>新版本方式（FPostConstructInitializeProperties换成FObjectInitializer）</p>

<pre><code>MyCharacter:: MyCharacter(const FObjectInitializer&amp; ObjectInitializer) : Super(ObjectInitializer.SetDefaultSubobjectClass&lt;MyCharacterMovement&gt;(ACharacter::CharacterMovementComponent))
{
}
</code></pre>

<p>TArray的排序用法
如果有一组Character对象，想以他们的坐标和某个特定坐标作比较并排序，方式如下：</p>

<pre><code>TArray&lt;ACharacter &gt; Arr;
FVector FromLoc(1000.f, 1000.f, 0.f);
Arr.Sort(FactorArrayDistanceSort2D(FromLoc));
</code></pre>

<p>UE4编译蓝图的引擎API<br />
FKismetCompilerModule::CompileBlueprint()，其内部回去创建一个FBlueprintCompileReinstancer对象，该对象内部会创建待编译蓝图的DuplicatedClass。
ULinkerLoad::CreateExport(int index)，其内部会去加载蓝图引用的相关资源。</p>

<p>【2017-03-20】<br />
Reference Viewer中的资源引用关系<br />
如果箭头从左到右，则表示左边的资源有引用右边的资源。比如，左边资源的某个属性是右边的资源，或者左边的父类是右边的资源。</p>

<p>RenderUtils.h<br />
该Util类中的一些纯色的全局贴图对象，可以直接调用，比如：GWhiteTexture。</p>

<p>【2017-06-03】<br />
4.16 bug，资源无法cook，在编辑器中运行正常，但是打包时无法cook资源。建议先不要用4.16，目前4.16.1版本仍然没有修复该问题。
网上有种说法，说把模型动作全部通过fbx重新导入一遍，不要直接使用旧的*.uasset，但是我试了下仍然无法解决。</p>

<p>【2017-06-12】<br />
蓝图属性无法访问的问题<br />
蓝图A中的属性或者函数，在蓝图B中，无法通过蓝图A的实例来访问。<br />
原因是这些属性和函数设置为了private。</p>

<p>【2017-06-14】<br />
FVector::GetMin()和FVector::GetMax()，两个API的作用分别是获取x、y、z三个数中的最小/最大值</p>

<p>【2017-06-17】<br />
安装VS2017时，需要勾选Windows SDK 8.1，如果只勾选最新的SDK 10，则UE4工程无法生成VS工程文件。</p>

<p>【2017-11-09】
Instanced Static Mesh<br />
Instancing是UE4批量渲染提供的一种性能优化机制，比如一片森林，一种只有3种形态的树木（Mesh），但每种树木在场景中会出现200棵。
unity5.4也提供了类似的功能：Instancing。</p>

<p>相关资料：<br />
Instanced Static Mesh Decreasing performance!<br />
<a href="https://forums.unrealengine.com/development-discussion/blueprint-visual-scripting/40156-instanced-static-mesh-decreasing-performance/page2">https://forums.unrealengine.com/development-discussion/blueprint-visual-scripting/40156-instanced-static-mesh-decreasing-performance/page2</a></p>

<p>UE4 Optimization: Instancing<br />
<a href="https://www.youtube.com/watch?v=oMIbV2rQO4k">https://www.youtube.com/watch?v=oMIbV2rQO4k</a></p>

<p>Instanced Static Mesh<br />
<a href="https://docs.unrealengine.com/latest/INT/BlueprintAPI/Components/InstancedStaticMesh/">https://docs.unrealengine.com/latest/INT/BlueprintAPI/Components/InstancedStaticMesh/</a></p>

<p>Blueprint Generating Procedural Rooms | Live Training | Unreal Engine<br />
<a href="https://www.youtube.com/watch?v=mI7eYXMJ5eI">https://www.youtube.com/watch?v=mI7eYXMJ5eI</a></p>

<p>【2017-11-18T23:10】<br />
如何导入Maya、3D Max、Blender动画的Blend Shape(Morph Targets)</p>

<p>FBX Morph Target Pipeline
<a href="https://docs.unrealengine.com/latest/INT/Engine/Content/FBX/MorphTargets/">https://docs.unrealengine.com/latest/INT/Engine/Content/FBX/MorphTargets/</a></p>

<p>Morph Target Previewer<br />
<a href="https://docs-origin.unrealengine.com/latest/INT/Engine/Animation/Persona/MorphTargetPreviewer/">https://docs-origin.unrealengine.com/latest/INT/Engine/Animation/Persona/MorphTargetPreviewer/</a></p>

<p>【2017-12-07T19:01】<br />
4.18的Build.cs编译错误：<br />
error : g:\Source\Work\Game20171205\program\client\TestTD\Source\TestTD\TestTD.Build.cs(31,9) : error CS0246: 未能找到类型或命名空间名称“FileReference”(是否缺少 using 指令或程序集引用?)</p>

<p>解决办法：<br />
在Build.cs中添加命令空间：<br />
using Tools.DotNETCommon;</p>

<p>【2017-12-07T19:45】<br />
UE4集成Protobuf 3.5版本时的一些问题<br />
错误：wire_format_lite.h(863): error C4146: unary minus operator applied to unsigned type, result still unsigned<br />
解决办法：disable warning或者切换到3.4版本</p>

<p>错误：type_traits(605): error C4647: behavior change: __is_pod(google::protobuf::internal::AuxillaryParseTableField) has different value in previous versions<br />
解决办法：<br />
修改generated_messages_table_driven.h<br />
将<br />
static_assert(std::is_pod<AuxillaryParseTableField>::value, &ldquo;&rdquo;);<br />
注释掉</p>

<p>UE4集成3.X版本的protobuf有一些问题（比如无法静态链接protobuf-lite.lib），建议能用2.x版本就用2.x版本。</p>

<p>相关参考：<br />
<a href="https://github.com/hanbim520/protobuffer-for-Unreal-Engine-4-/issues/1">https://github.com/hanbim520/protobuffer-for-Unreal-Engine-4-/issues/1</a><br />
<a href="https://medium.com/@0xflarion/using-ue4-w-google-protocol-buffers-ae7cab820d84">https://medium.com/@0xflarion/using-ue4-w-google-protocol-buffers-ae7cab820d84</a></p>

<p>【2017-12-08T18:57】<br />
BUILD FAILED：gradle\rungradle.bat&rdquo; :app:assembleDebug</p>

<p>4.18安卓项目发送到手机上的时候出现错误代码 ExceptionUtils.PrintExceptionInfo: ERROR: cmd.exe failed with args /c &ldquo;D:\Stage - kornelis\ARcore\HelloARSample 4.18\Intermediate/Android/APK\gradle\rungradle.bat&rdquo; :app:assembleDebug ExceptionUtils.PrintExceptionInfo:</p>

<p>解决方案：<br />
1，双击NVPACK/android-sdk-windows/tools/android.bat<br />
2，点击&rdquo;Deselect All&rdquo;，取消所有选中<br />
3，勾选：Extras/Android Support Repository，然后点击Install。</p>

<p>【2017-12-10T18:57】
UObject::ConditionalBeginDestroy()是异步销毁对象内存；AActor::Destroy();是同步销毁对象内存且是在当前帧结束时立即执行。这里说的销毁不是硬指针delete内存，而是从内存池中抹掉数据。</p>

<p>【2017-12-14T14:24】<br />
编译时引擎代码报错：</p>

<pre><code>'SetPipelineState': illegal qualified name in member declaration
</code></pre>

<p>解决办法：<br />
修改 engine\source\runtime\d3d12rhi\private\D3D12StateCachePrivate.h(716)</p>

<p>将<br />
D3D12_STATE_CACHE_INLINE void FD3D12StateCacheBase::SetPipelineState(FD3D12PipelineState* PSO)
修改为<br />
D3D12_STATE_CACHE_INLINE void SetPipelineState(FD3D12PipelineState* PSO)</p>

<p>参考：<br />
<a href="https://answers.unrealengine.com/questions/605554/setpipelinestate-illegal-qualified-name-in-member.html">https://answers.unrealengine.com/questions/605554/setpipelinestate-illegal-qualified-name-in-member.html</a></p>

<p>【2017-12-21T16:27】<br />
1，GameMode无法在游戏运行过程中切换，只能在编辑器的WorldSettings或者Project Settings中切换。</p>

<p>2，How can I get the current map name? 获取当前地图的名称。</p>

<pre><code>GetWorld()-&gt;GetMapName();
</code></pre>

<p>但是这种方式获取的名字有引擎自动添加的前缀，比如在内容浏览器中场景名为test_scene，用此API获取的名字为xxx_test_scene。</p>

<p>3，UEngine::Browse和UEngine::LoadMap都是用于客户端本地加载场景，区别是：前者是对后者的封装：包括判断当前WorldContext是否有挂起未完成的LoadMap请求。</p>

<p>【2017-12-25T14:31】<br />
角色蓝图的摄像机无法编辑的问题<br />
问题现象：在角色蓝图中，如果选中摄像机组件后，Detail面板中为空，相关参数看不见，可能该角色蓝图是在纯蓝图项目创建的，此时再指定其父类为C++ Character class，则会出现这种情况：即父类C++中暴露的Camera属性在蓝图中不可编辑。<br />
解决办法：重新建一个空白角色蓝图，然后再指定其父类C++ class，然后再编辑。</p>

<p>【2017-12-26T15:04】<br />
问题现象：在GameMode::BeginPlay()函数中，SpawnActor多个角色，但是有的角色没有显示，但是隐藏的角色能用TObjectIterator遍历出来。<br />
可能原因：SpawnActor时的Z坐标太低，穿插了地面。<br />
解决办法：SpawnActor时Z坐标调高。</p>

<p>【2017-12-27T16:21】<br />
如何限定UPROPERTY值的范围(Range)</p>

<pre><code>///Specifies the lowest that the value slider should represent.
UIMin

///Specifies the highest that the value slider should represent.
UIMax

///Specifies the minimum value that may be entered for the property.
ClampMin

///Specifies the maximum value that may be entered for the property.
ClampMax
</code></pre>

<p>示例</p>

<pre><code>UPROPERTY(EditAnywhere, Category = &quot;Test&quot;, meta=(ClampMin = &quot;0.0&quot;, ClampMax = &quot;300.0&quot;, UIMin = &quot;0.0&quot;, UIMax = &quot;300.0&quot;))
</code></pre>

<p>【2017-12-27T17:31】<br />
如何修改角色的移动速度</p>

<pre><code>if (UCharacterMovementComponent* Movement = MyCharacter-&gt;GetCharacterMovement())
{
    Movement-&gt;MaxWalkSpeed *= 0.5;
}
</code></pre>

<p>【2017-12-28T13:57】<br />
如果UMG中的一个button，在游戏运行时，鼠标一放上去鼠标光标就消失，原因是button的<code>IsFocusable</code>属性设置为false。</p>

<p>【2018-01-12T19:09】<br />
MoveToLocation和AddMovementInput同时执行<br />
如果对同一个Pawn，同时使用AIController::MoveToLocation()和APawn::AddMovementInput()来移动物体，会有冲突，会出现短暂时间内角色被黏住无法移动的情况</p>

<p>【2018-01-03T10:26】</p>

<pre><code>void AActor::AttachToComponent(USceneComponent* Parent, const FAttachmentTransformRules&amp; AttachmentRules, FName SocketName)
</code></pre>

<p>AttachToComponent()的参数SocketName，也可以是骨骼名，即使不添加Socket，也可以直接用骨骼来挂载物件。</p>

<p>【2018-01-04T16:56】<br />
如何在TMap中存放一个TArray数组</p>

<pre><code>USTRUCT()
struct FConversations
{
    UPROPERTY()
    TArray&lt;FString&gt; Entries;
};

TMap&lt;EConversationNode, FConversations&gt; testMap;
</code></pre>

<p>Is there any way to store an array in a tmap?<br />
<a href="https://answers.unrealengine.com/questions/319040/is-there-any-way-to-store-an-array-in-a-tmap.html?sort=oldest">https://answers.unrealengine.com/questions/319040/is-there-any-way-to-store-an-array-in-a-tmap.html?sort=oldest</a></p>

<p>【2018-01-08T16:56】<br />
如何在运行时期间隐藏显示虚拟摇杆（Virtual Joystick）</p>

<pre><code>void APlayerController::SetVirtualJoystickVisibility(bool bVisible);
</code></pre>

<p>【2018-01-13T14:08】<br />
Switch Level时能保留的数据<br />
Switch Level时能保留的数据对象只有一个：GameInstance。GameState、PlayerState都会被重置。</p>

<p>【2018-02-05T16:01】<br />
SceneComponent和ActorComponent的区别<br />
SceneComponent有transform属性（location, rotation, scale）而ActorComponent没有。<br />
意义在于：如果只是存放数据，而不处理显示逻辑，那么就用ActorComponent，如果需要处理显示上的层级关系（比CameraComponent机与SpringArm），那么要用SceneComponent。</p>

<p>【2018-02-09T10:30】<br />
Android打包时的OpenGL和Vulkan支持<br />
Project Settings -》 Platforms -》 Android -》 Build -》 Support OpenGL ES3.1。默认只使用OpenGL ES2。</p>

<p>【2018-03-01T12:28】<br />
使用 Skeletal Control 动态控制头部IK运动<br />
<a href="http://blog.csdn.net/sb978433018/article/details/77429762">http://blog.csdn.net/sb978433018/article/details/77429762</a></p>

<p>【2018-03-21T11:48】<br />
DerivedDataCache目录修改<br />
默认目录在
C:\Users\用户名\AppData\Local\UnrealEngine\Common\DerivedDataCache，时间久了以后，该目录的体积会有十几个G。<br />
修改方法：打开UE4Editor -》 Edit -》 Editor Preference -》General -》 Global -》 Derived Data，修改位置。</p>

<p>【2018-03-22T14:42】<br />
游戏暂停时是否允许输入执行（默认是禁止输入）</p>

<pre><code>FInputActionBinding&amp; ToggleInGameMenuBinding = InputComponent-&gt;BindAction(&quot;InGameMenu&quot;, IE_Pressed, this, &amp;AStrategyPlayerController::OnToggleInGameMenu);
ToggleInGameMenuBinding.bExecuteWhenPaused = true;
</code></pre>

<p>【2018-03-26T14:42】<br />
错误：</p>

<pre><code>FAsyncPackage::FindExistingImport class mismatch int property 
</code></pre>

<p>原因：在UObject构造函数中去执行了BindUFunction()等逻辑。<br />
解决办法：在非构造函数中执行，比如BeginPlay()或者NativeContruct()（UserWidget而言）。</p>

<p>【2018-05-03T15:32】<br />
隐藏安卓的虚拟键、软键 Hide Android App Soft Keys(Home key and Return key)<br />
Project Settings -》 Android -》 Platforms -》 Enable FullScreen Immersive on KitKat and above devices</p>

<hr />

<p><code>凡心所向，素履以往。生如逆旅，一苇以航。----木心</code></p>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="http://www.dawnarc.com/tags/ue4/">UE4</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="http://www.dawnarc.com/2016/02/ue4%E5%A6%82%E4%BD%95%E6%92%AD%E6%94%BEmontage%E5%8A%A8%E7%94%BBc--/" data-tooltip="[UE4]如何播放Montage动画(C&#43;&#43;)">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="http://www.dawnarc.com/2012/01/java%E4%BD%BF%E7%94%A8epoll%E6%9D%A5%E8%BF%9B%E8%A1%8Cnio%E5%A4%84%E7%90%86%E7%9A%84%E6%96%B9%E6%B3%95/" data-tooltip="[Java]使用EPoll来进行NIO处理的方法">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2018 Neil Wang. All Rights Reserved. Powered by <a href="https://gohugo.io/">Hugo</a>
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="http://www.dawnarc.com/2016/02/ue4%E5%A6%82%E4%BD%95%E6%92%AD%E6%94%BEmontage%E5%8A%A8%E7%94%BBc--/" data-tooltip="[UE4]如何播放Montage动画(C&#43;&#43;)">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="http://www.dawnarc.com/2012/01/java%E4%BD%BF%E7%94%A8epoll%E6%9D%A5%E8%BF%9B%E8%A1%8Cnio%E5%A4%84%E7%90%86%E7%9A%84%E6%96%B9%E6%B3%95/" data-tooltip="[Java]使用EPoll来进行NIO处理的方法">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="//www.gravatar.com/avatar/0df91cdac5811a56ca485b0449d91b5e?s=110" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Neil Wang</h4>
    
      <div id="about-card-bio">久长唯有品格</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        TechArtist
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Yichang·Hubei
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Search" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no post found</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="http://www.dawnarc.com/2018/05/ue4animationik%E5%8A%A8%E7%94%BB.md/">
                <h3 class="media-heading">[UE4][Animation]IK动画.md</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  May 5, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">工程1 在油管上看到一个UE4 IK动画的demo工程示例
该示例作者的主页：https://www.patreon.com/unrealcg
       演示视频：Advanced foot IK for Unreal Engine 4 - (100% Free)
https://www.youtube.com/watch?v=XetC9ivIXFc
demo工程下载地址(4.19)：
https://pan.baidu.com/s/1mlcM0cseKWpprnISVM0P5Q
工程2 该工程除了IK，还包括动画融合、物理等功能
演示视频：UE4 - Advanced Locomotion System V3 - Features
https://www.youtube.com/watch?v=yTniZCOCY7o
下载地址：Unreal商城，60刀
Advanced Locomotion System V3
https://www.unrealengine.com/marketplace/advanced-locomotion-system-v1
认识自己的无知是认识世界的最可靠的方法。---米歇尔·蒙田《随笔集》</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="http://www.dawnarc.com/2018/05/ue4animationmaster-pose-copy-pose-mesh-merge%E5%8C%BA%E5%88%AB/">
                <h3 class="media-heading">[UE4][Animation]Master Pose, Copy Pose, Mesh merge区别</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  May 5, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">参考自：Master pose vs copy pose vs mesh merge in UE4
https://iluvanimation.blogspot.tw/2017/04/master-pose-vs-copy-pose-vs-mesh-merge.html
Since I get this question so often, I&rsquo;m just writing quick summary for each.
When you have different parts of bodies, and you want to allow players to pick which part they want, we have multiple choices, and people are wondering what are the main differences.
Say you have head, upper body, lower body, and how do you allow them to pick and what are the differences?</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="http://www.dawnarc.com/2018/05/ue4animationanimation-blueprint-inherit%E5%8A%A8%E7%94%BB%E8%93%9D%E5%9B%BE%E7%BB%A7%E6%89%BF%E4%B8%8E%E5%A4%8D%E7%94%A8/">
                <h3 class="media-heading">[UE4][Animation]Animation Blueprint Inherit(动画蓝图继承与复用)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  May 5, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">keyworks：Animation Blueprint Inherit、Animation Blueprint Reuse、蓝图继承、蓝图重用、蓝图复用
三种方式可以重用动画蓝图逻辑：
 Blueprint Inherit（蓝图继承） Sub Animation Blueprint Instances Post Process Animation Blueprints  Animation Blueprint Inherit（动画蓝图继承） 角色蓝图继承和动画蓝图继承有部分相似，这里先说下角色蓝图继承
右键角色蓝图 -》 Create Child Blueprint Class   这样创建出来的子蓝图，其构造函数中会自动生成一个执行父级蓝图构造函数的节点   其他的Event事件中，如果也需要调用父级蓝图的函数，可以右键对应节点 -》 Add call to parent function     动画蓝图也可以使用上述角色蓝图继承的方式。
但直接右键生成子蓝图的方式创建出来的动画蓝图，无法选择其他骨骼，只能保持和父级动画蓝图的骨骼一样   如果要创建一个与父级动画蓝图骨骼不同的子动画蓝图，可以先新建一个普通的动画蓝图   然后选择需要继承的父级动画蓝图，以及子动画蓝图的骨骼   这样生成出来的子动画蓝图，其Event Graph中，会自动生成一个执行调用父级蓝图的节点：Parent: Blueprint Update Animation   Sub Animation Blueprint Instance   Using Sub Anim Instances</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="http://www.dawnarc.com/2018/05/ue4animationmultiple-skeleton-meshes-sharing-same-skeleton%E5%A4%9A%E4%B8%AAskeletonmesh%E5%85%B1%E7%94%A8%E4%B8%80%E5%A5%97%E9%AA%A8%E9%AA%BC/">
                <h3 class="media-heading">[UE4][Animation]Multiple skeleton meshes sharing same skeleton(多个SkeletonMesh共用一套骨骼)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  May 5, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">keywords：UE4 Animation、Set Master Pose Component、customizable character、动画蓝图、换装
美术资源制作  每个身体部件（帽子、鞋子等）蒙皮时需要使用同一套骨骼(all pieces need to be skinned to the same skeleton) 每个身体部件导出时，该部件的关节与根关节之间的所有关节都需要选中导出。例如：假设盆骨为根关节（root joint），现在要导出手臂，那么手臂、肩膀、脊椎、盆骨的关节都需要选中导出。  角色蓝图中设置Master Pose 身体各个部件导入UE4之后，打开角色蓝图，为每个部件Add一个Skeleton Mesh Component，并将其Skeleton Mesh属性设置为对应的资源文件。
      最后再在角色蓝图的Construction Script中Set Master Pose Component
  这样，角色在播放动画时，每个部件就会跟随角色一起播放，而不会固定不动。
参考自：How to Setup &ldquo;Master Pose Component&rdquo;
https://answers.unrealengine.com/questions/228601/how-to-setup-master-pose-component.html
C++接口 Set Master Pose Component蓝图节点对应的C++ API：
Child-&gt;SetMaseterPoseComponent(Body);  有一个传说，说的是有那么一只鸟儿，它一生只唱一次，那歌声比世上所有一切生灵的歌声都更加优美动听。---《荆棘鸟》</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="http://www.dawnarc.com/2018/05/ue4sharp-temporal-aa/">
                <h3 class="media-heading">[UE4]Sharp Temporal AA</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  May 5, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">PC端开启Temporal AA 参考： https://forums.unrealengine.com/development-discussion/rendering/106829-sharp-temporal-aa/page2?134157-Sharp-Temporal-AA=&amp;viewfull=1
移动端开启Temporal AA Project Settings -》 Engine -》 Rendering -》 Default Settings -》 Anti-Aliasing Method 选择 TemporalAA；
Project Settings -》 Engine -》 Rendering -》 Mobile -》 Mobile MSAA 选择 NO MSAA，并确保配置DefaultEngine.ini中r.MobileMSAA=0。
4.19版本有bug，移动端无法开启Temporal AA，4.18没有问题。启用TemporalAA后，在Android设备上容易产生残影（转动屏幕或角色跑动时）。
 我希望有个如你一般的人
如山间清爽的风
如古城温暖的光
从清晨到夜晚
由山野到书房
只要最后是你
就好
——张嘉佳 《从你的全世界路过》</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="http://www.dawnarc.com/2018/05/c--%E6%AD%A3%E7%A1%AE%E4%BD%BF%E7%94%A8stl-map%E4%B8%ADerase%E5%87%BD%E6%95%B0/">
                <h3 class="media-heading">[C&#43;&#43;]正确使用STL-MAP中Erase函数</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  May 5, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">原文：http://www.cnblogs.com/graphics/archive/2010/07/05/1771110.html
#include &lt;iostream&gt; #include &lt;map&gt; #include &lt;string&gt; using namespace std ; int main(void) { map&lt;int, string&gt; m ; m.insert(pair&lt;int, string&gt;(1, &quot;abc&quot;)) ; m.insert(pair&lt;int, string&gt;(2, &quot;def&quot;)) ; m.insert(pair&lt;int, string&gt;(3, &quot;def&quot;)) ; m.insert(pair&lt;int, string&gt;(4, &quot;ghi&quot;)) ; map&lt;int, string&gt;::iterator itor ; // 错误的写法 for (itor = m.begin(); itor != m.end(); ++itor) { if (itor-&gt;second == &quot;def&quot;) { m.erase(itor) ; // map是关联式容器，调用erase后，当前迭代器已经失效 } } // 正确的写法 for (itor = m.begin(); itor != m.end();) { if (itor-&gt;second == &quot;def&quot;) { m.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="http://www.dawnarc.com/2018/05/ue44.19%E7%BC%96%E8%AF%91substance-plugin%E6%8A%A5%E9%94%99/">
                <h3 class="media-heading">[UE4]4.19编译Substance Plugin报错</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  May 5, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">问题现象 4.19版本启用Substance Plugin后，Generate Visual Studio Project Files时报错：
Exception while generating include data for UE4Editor: Unable to instantiate module 'SubstanceCore': System.NullReferenceException: La référence d'objet n'est pas définie à une instance d'un objet. à UnrealBuildTool.Rules.SubstanceCore..ctor(ReadOnlyTargetRules Target) dans d:\3D\UE4.19\UnrealEngine-release\Engine\Plugins\Substance\Source\SubstanceCore\SubstanceCore.Build.cs:ligne 116 (referenced via UE4Editor.Target.cs -&gt; Substance.uplugin)  解决办法 修改：UE_4.19\Engine\Plugins\Marketplace\Substance\Source\SubstanceCore\SubstanceCore.Build.cs
将116行到124行注掉，并追加一行：
IncludePS4Files = false;  参考自：https://forum.allegorithmic.com/index.php?topic=23285.0
你简单，世界就是童话；心复杂，世界就是迷宫。</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="http://www.dawnarc.com/2018/05/ue4steam-sdk%E6%8E%A5%E5%85%A5%E7%9B%B8%E5%85%B3/">
                <h3 class="media-heading">[UE4]Steam SDK接入相关</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  May 5, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Advanced Sessions Plugin
https://forums.unrealengine.com/community/community-content-tools-and-tutorials/41043-advanced-sessions-plugin
Online Subsystem Steam
https://docs.unrealengine.com/en-us/Programming/Online/Steam
Steam, Using the Steam SDK During Development
https://wiki.unrealengine.com/Steam,_Using_the_Steam_SDK_During_Development
Integrating Steam SDK – Part 1
http://orfeasel.com/steam_integration_p1/
Handling Steam Achievements – Steam Integration Part 2
http://orfeasel.com/handling-steam-achievements-steam-integration-part-2/
中文翻译：
集成 Steam SDK（一）
http://gad.qq.com/program/translateview/7191581
处理Steam成就系统——接入Steam SDK（二）
http://gad.qq.com/program/translateview/7191582
Shipping模式下steam集成无效的问题 在打包输出目录下，例如：\WindowsNoEditor\MyProj\Binaries\Win64\，新建一个文本文件：steam_appid.txt，并且内容为“480”。480表示steam测试使用的app id。
参考自：Steam integration not working on a Shipping Build
https://answers.unrealengine.com/questions/474029/steam-integration-not-working-on-a-shipping-build.html
人生没有彩排，每天都是直播。阳光，源自你内心的澄澈！</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="http://www.dawnarc.com/2018/04/ue4lightings/">
                <h3 class="media-heading">[UE4]Lightings</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Apr 4, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">keywords：UE4、Lighting、灯光
Lighting Content Examples https://docs.unrealengine.com/en-us/Resources/ContentExamples/Lighting
Light Propagation Volumes Light Propagation Volumes
https://docs.unrealengine.com/en-us/Engine/Rendering/LightingAndShadows/LightPropagationVolumes
Dynamic GI : Getting the Most out of LPV ( Light Propagation Volume )
https://forums.unrealengine.com/community/community-content-tools-and-tutorials/103572-dynamic-gi-getting-the-most-out-of-lpv-light-propagation-volume
Lighting Channels https://docs.unrealengine.com/en-us/Engine/Rendering/LightingAndShadows/LightingChannels
注意事项：
 Lighting Channels是动态的，意思是：静态光(Static Lights)或者Mobility为Static的Static Mesh Actor不受Lighting Channels影响。要使用Lighting Channels，Static Mesh Actor和Lights的Mobility必须设置为Stationary或者Movable。 材质类型影响：Lighting Channels只影响直接光照(direct lighting)下Opaque类型材质，Translucent或者Masked类型材质没有效果。 Lighting Channels对性能开销不大，可以忽略不计。  移动端的Lighting Channels：
 4.13版本开始，才支持移动端的Lighting Channel。 移动端多个Directional Light支持不同Lighting Channels。 一个Primitives只受一个Directional Light影响，如果primitves勾选了多个Lighting Channel，那么只会启用第一个。 CSM Shadows只会投射到与光源Lighting Channels相同的primitives上。 动态点光源在移动端支持Lighting Channels的所有特性，与桌面级特性相同。  Occlusion Culling 光源距离裁剪 Project Settings -》 Engine -》 Rendering -》 Culling</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="http://www.dawnarc.com/2018/04/ue4post-process%E5%90%8E%E5%A4%84%E7%90%86/">
                <h3 class="media-heading">[UE4]Post Process(后处理)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Apr 4, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Post Process Materials
https://docs.unrealengine.com/en-us/Engine/Rendering/PostProcessEffects/PostProcessMaterials
Stylized Rendering Post Processing
https://docs.unrealengine.com/en-us/Resources/Showcases/Stylized/PostProcessing
Post Processing Content Examples
https://docs.unrealengine.com/en-us/Resources/ContentExamples/PostProcessing
1.2 - ShadingModel
https://docs.unrealengine.com/en-us/Resources/ContentExamples/MaterialProperties/1_2
抱必死的心，走永远的路。</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no post found"
         data-message-one="1 post found"
         data-message-other="{n} posts found">
         391 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('http://www.dawnarc.com/images/cover-v1.2.0.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="http://www.dawnarc.com/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>



<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'http:\/\/www.dawnarc.com\/2015\/12\/ue4%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%E4%B8%8E%E7%AC%94%E8%AE%B0\/';
          
            this.page.identifier = '\/2015\/12\/ue4%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%E4%B8%8E%E7%AC%94%E8%AE%B0\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'dawnarc';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  



    
  </body>
</html>


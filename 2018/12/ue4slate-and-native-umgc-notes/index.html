<!DOCTYPE html>
<html lang="en">
  <head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4843403245883139"
     crossorigin="anonymous"></script>

<script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.145.0 with theme Tranquilpeak 0.4.7-BETA">
<meta name="author" content="Wang Aiguo">
<meta name="keywords" content="UE4, UMG, zoom">
<meta name="description" content="Keywords: UE4, Native UMG, Slate, Common API, Usage, Case">


<meta property="og:description" content="Keywords: UE4, Native UMG, Slate, Common API, Usage, Case">
<meta property="og:type" content="article">
<meta property="og:title" content="[UE4]Slate and Native UMG(C&#43;&#43;) Notes">
<meta name="twitter:title" content="[UE4]Slate and Native UMG(C&#43;&#43;) Notes">
<meta property="og:url" content="https://dawnarc.com/2018/12/ue4slate-and-native-umgc-notes/">
<meta property="twitter:url" content="https://dawnarc.com/2018/12/ue4slate-and-native-umgc-notes/">
<meta property="og:site_name" content="玄冬Wong">
<meta property="og:description" content="Keywords: UE4, Native UMG, Slate, Common API, Usage, Case">
<meta name="twitter:description" content="Keywords: UE4, Native UMG, Slate, Common API, Usage, Case">
<meta property="og:locale" content="en">

  
    <meta property="article:published_time" content="2018-12-01T02:09:02">
  
  
    <meta property="article:modified_time" content="2025-09-28T11:52:22">
  
  
  
    
      <meta property="article:section" content="UnrealEngine4">
    
  
  
    
      <meta property="article:tag" content="UE4">
    
  


<meta name="twitter:card" content="summary">







  <meta property="og:image" content="https://dawnarc.com/thumbnail/beijing/thumbnail-beijing-015.jpg">
  <meta property="twitter:image" content="https://dawnarc.com/thumbnail/beijing/thumbnail-beijing-015.jpg">






    <title>[UE4]Slate and Native UMG(C&#43;&#43;) Notes</title>

    <link rel="icon" href="https://dawnarc.com/favicon.png">
    

    <link rel="canonical" href="https://dawnarc.com/2018/12/ue4slate-and-native-umgc-notes/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://dawnarc.com/css/style-twzjdbqhmnnacqs0pwwdzcdbt8yhv8giawvjqjmyfoqnvazl0dalmnhdkvp7.min.css" />
    
    
      
        <link rel="stylesheet" href="https://dawnarc.com/cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/paraiso-light.min.css">
      
    

    
    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4P9RSN4PXQ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4P9RSN4PXQ');
</script>
  
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://dawnarc.com/">玄冬Wong</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://dawnarc.com/#about">
    
    
    
      
    
    </a>
    
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    <div class="sidebar-profile">
        <a href="https://dawnarc.com/#about">
          
            <img class="sidebar-profile-picture" src=https://dawnarc.com/avatar.jpg alt="" />
          
        </a>
        <h4 class="sidebar-profile-name">Wang Aiguo</h4>
        <h5 class="sidebar-profile-bio">天琴殷荡紫穹，万神血染兵锋。</h5>
      </div>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://dawnarc.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://dawnarc.com/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://dawnarc.com/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://dawnarc.com/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://dawnarc.com/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://dawnarc.com/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://stackoverflow.com/users/1645289/protoss" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-stack-overflow"></i>
      
      <span class="sidebar-button-desc">Stack Overflow</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.facebook.com/koanland" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-facebook"></i>
      
      <span class="sidebar-button-desc">Facebook</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/dawnarc" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.instagram.com/dawn_arc/" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-instagram"></i>
      
      <span class="sidebar-button-desc">Instagram</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.pinterest.com/wangaiguo/" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-pinterest"></i>
      
      <span class="sidebar-button-desc">Pinterest</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://steamcommunity.com/id/dawnarc" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-steam"></i>
      
      <span class="sidebar-button-desc">Steam</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://twitter.com/dawn_arc" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
      
      <span class="sidebar-button-desc">Twitter</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://weibo.com/koanland" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-weibo"></i>
      
      <span class="sidebar-button-desc">Weibo</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      [UE4]Slate and Native UMG(C&#43;&#43;) Notes
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2018-12-01T02:09:02&#43;08:00">
        
  
  
  
  
    Saturday, 02:09, Dec 1, 2018
  

      </time>
    
    
  
  
    <span></span>
    
      <a class="category-link" href="https://dawnarc.com/categories/unrealengine4">UnrealEngine4</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
			<amp-auto-ads type="adsense"
					data-ad-client="ca-pub-4843403245883139">
			</amp-auto-ads>
            <div class="main-content-wrap">
                <ins class="adsbygoogle"
                     style="display:block;height:120px"
                     data-ad-client="ca-pub-4843403245883139"
                     data-ad-slot="2321022024"
                     data-ad-format="fluid"
                     data-full-width-responsive="true"></ins>
                <script>
                     (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
              <p>Keywords: UE4, Native UMG, Slate, Common API, Usage, Case</p>
<h3 id="native-umg-apis-in-common">Native UMG APIs In Common</h3>
<h5 id="how-to-set-ubuttons-image-texture-for-normal-hovered-and-pressed-state">How to set UButton&rsquo;s Image Texture for Normal, Hovered and Pressed state</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span>MyButton<span style="color:#f92672">-&gt;</span>WidgetStyle.Normal.SetResourceObject(TextureRes);
</span></span></code></pre></div><h5 id="how-to-get-the-size-of-widget">How to get the size of widget</h5>
<p>Get actual size of widget:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span>FVector2D UWidget<span style="color:#f92672">::</span>GetDesiredSize() <span style="color:#66d9ef">const</span>
</span></span></code></pre></div><p>Usage of <code>GetDesiredSize</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> UMyWidget<span style="color:#f92672">::</span>AddToScreen(ULocalPlayer<span style="color:#f92672">*</span> LocalPlayer, int32 ZOrder)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Super<span style="color:#f92672">::</span>AddToScreen(LocalPlayer, ZOrder);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    ForceLayoutPrepass();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    FVector2D Size <span style="color:#f92672">=</span> GetDesiredSize();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="alert danger ">
  <p><code>GetDesiredSize()</code> isn&rsquo;t usable before <code>NativeTick()</code> triggered, if you want to get the widget size when widget initilized, you need to call function <code>ForceLayoutPrepass()</code>. If you add a child in widget and want to show it on viewport at this frame, you also need to call this function too.</p>
</div>
<p>Get size using slot:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#75715e">//ImgIcon is a UImage widget.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (UCanvasPanelSlot<span style="color:#f92672">*</span> Slot <span style="color:#f92672">=</span> Cast<span style="color:#f92672">&lt;</span>UCanvasPanelSlot<span style="color:#f92672">&gt;</span>(ImgIcon<span style="color:#f92672">-&gt;</span>Slot))
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FVector2D Size <span style="color:#f92672">=</span> Slot<span style="color:#f92672">-&gt;</span>GetSize();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Get size from Texture2D resource:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#75715e">//ImgIcon is a UImage widget.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (UTexture2D<span style="color:#f92672">*</span> Tex <span style="color:#f92672">=</span> Cast<span style="color:#f92672">&lt;</span>UTexture2D<span style="color:#f92672">&gt;</span>(ImgIcon<span style="color:#f92672">-&gt;</span>Brush.GetResourceObject()))
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    int32 X <span style="color:#f92672">=</span> Tex<span style="color:#f92672">-&gt;</span>GetSizeX();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Using CachedGeometry:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> FVector2D<span style="color:#f92672">&amp;</span> IconLocSize <span style="color:#f92672">=</span> ImgIcon<span style="color:#f92672">-&gt;</span>GetCachedGeometry().GetLocalSize();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> FVector2D<span style="color:#f92672">&amp;</span> IconAbsSize <span style="color:#f92672">=</span> ImgIcon<span style="color:#f92672">-&gt;</span>GetCachedGeometry().GetAbsoluteSize();
</span></span></code></pre></div><h5 id="how-to-set-the-size-of-widget">How to set the size of widget</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#75715e">//ImgIcon is a UImage widget.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (UCanvasPanelSlot<span style="color:#f92672">*</span> Slot <span style="color:#f92672">=</span> Cast<span style="color:#f92672">&lt;</span>UCanvasPanelSlot<span style="color:#f92672">&gt;</span>(ImgIcon<span style="color:#f92672">-&gt;</span>Slot))
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Slot<span style="color:#f92672">-&gt;</span>SetSize(FVector2D(<span style="color:#ae81ff">100.f</span>, <span style="color:#ae81ff">100.f</span>));
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h5 id="how-to-set-the-size-of-userwidgetwhole-umg-ui">How to set the size of UserWidget(whole UMG UI)</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> UUserWidget<span style="color:#f92672">::</span>SetDesiredSizeInViewport(FVector2D DesiredSize);
</span></span></code></pre></div><h5 id="how-to-get-the-position-of-widget">How to get the position of widget</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#75715e">//ImgIcon is a UImage widget.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (UCanvasPanelSlot<span style="color:#f92672">*</span> Slot <span style="color:#f92672">=</span> Cast<span style="color:#f92672">&lt;</span>UCanvasPanelSlot<span style="color:#f92672">&gt;</span>(ImgIcon<span style="color:#f92672">-&gt;</span>Slot))
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    FVector2D Pos <span style="color:#f92672">=</span> Slot<span style="color:#f92672">-&gt;</span>GetPosition();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Using CachedGeometry:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span>ImgIcon<span style="color:#f92672">-&gt;</span>GetCachedGeometry().GetAbsolutePosition();
</span></span></code></pre></div><h5 id="how-to-set-the-position-of-widget-modify-widgets-screen-position-at-run-time">How to set the position of widget (Modify widget&rsquo;s screen position at run-time)</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> UWidget<span style="color:#f92672">::</span>SetRenderTranslation(FVector2D Translation)
</span></span></code></pre></div><h5 id="how-to-set-the-position-of-userwidget">How to set the position of UserWidget</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> UUserWidget<span style="color:#f92672">::</span>SetPositionInViewport(FVector2D Position, <span style="color:#66d9ef">bool</span> bRemoveDPIScale )
</span></span></code></pre></div><h5 id="how-to-scale-the-widget">How to scale the widget</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> UWidget<span style="color:#f92672">::</span>SetRenderScale(FVector2D Scale)
</span></span></code></pre></div><h5 id="how-to-get-the-screen-size">How to get the screen size</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">auto</span> geometry <span style="color:#f92672">=</span> MyWidget<span style="color:#f92672">-&gt;</span>GetCachedGeometry();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">auto</span> localSize <span style="color:#f92672">=</span> geometry.GetLocalSize();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">auto</span> screenPosition <span style="color:#f92672">=</span> geometry.LocalToAbsolute(FVector2D(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>)); <span style="color:#75715e">//TopLeft
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">auto</span>  screenSize <span style="color:#f92672">=</span> geometry.LocalToAbsolute(localSize) <span style="color:#f92672">-</span> screenPosition; <span style="color:#75715e">// BotRight-TopLeft = real size
</span></span></span></code></pre></div><h5 id="how-to-rotate-a-widget">How to rotate a widget</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> UWidget<span style="color:#f92672">::</span>SetRenderAngle(<span style="color:#66d9ef">float</span> Angle);  <span style="color:#75715e">//Angle range: (-180, 180)
</span></span></span></code></pre></div><h5 id="mouse-clicked-position-on-widget">Mouse clicked position on widget</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span>FReply UMiniMapUI<span style="color:#f92672">::</span>NativeOnMouseButtonDown(<span style="color:#66d9ef">const</span> FGeometry<span style="color:#f92672">&amp;</span> InGeometry, <span style="color:#66d9ef">const</span> FPointerEvent<span style="color:#f92672">&amp;</span> InMouseEvent)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//Translates a screen position in pixels into the local space of a widget with the given geometry. 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    FVector2D ScreenPos;
</span></span><span style="display:flex;"><span>    USlateBlueprintLibrary<span style="color:#f92672">::</span>ScreenToWidgetLocal(<span style="color:#66d9ef">this</span>, InGeometry, InMouseEvent.GetScreenSpacePosition(), ScreenPos);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//Transforms AbsoluteCoordinate into the local space of this Geometry.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    FVector2D LocalWidgetMousePos <span style="color:#f92672">=</span> USlateBlueprintLibrary<span style="color:#f92672">::</span>AbsoluteToLocal(InGeometry, InMouseEvent.GetScreenSpacePosition());
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> FReply<span style="color:#f92672">::</span>Handled();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h5 id="nativeoninitialized-vs-nativeconstruct">NativeOnInitialized vs NativeConstruct</h5>
<p>NativeOnInitialized vs NativeConstruct:</p>
<ul>
<li><strong>NativeOnInitialized</strong> is called when you create the widget.</li>
<li><strong>NativePreConstruct</strong> is called when the widget is added to a viewport and when viewing the widget in the editor.</li>
<li><strong>NativeConstruct</strong> is called when the widget is added to a viewport, after NativePreConstruct.</li>
<li><strong>NativeDestruct</strong> is called when the widget is removed from a viewport.</li>
</ul>
<p>Origin: <a href="https://forums.unrealengine.com/t/uuserwidget-initialize-vs-nativeconstruct/228294/5?u=dawnarc">NativeOnInitialized vs NativeConstruct</a></p>
<p>NativeConstruct&rsquo;s trigger timing</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(UMyUserWidget<span style="color:#f92672">*</span> Widget <span style="color:#f92672">=</span> WidgetTree<span style="color:#f92672">-&gt;</span>ConstructWidget<span style="color:#f92672">&lt;</span>UMyUserWidget<span style="color:#f92672">&gt;</span>(UMyUserWidget<span style="color:#f92672">::</span>StaticClass()))
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//UMyUserWidget::NativeConstruct() would trigger after be AddChild
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    MyCanvasPanel<span style="color:#f92672">-&gt;</span>AddChild(Widget);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="alert info ">
  <p><code>UMyUserWidget::NativeConstruct()</code> would trigger after be <code>AddChild</code></p>
</div>
<h5 id="how-to-get-content-of-textbox-textblock">How to get content of TextBox (Textblock)</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span>FText txt <span style="color:#f92672">=</span> TxtboxCmdInput<span style="color:#f92672">-&gt;</span>GetText();
</span></span></code></pre></div><h3 id="native-umg-cases">Native UMG Cases</h3>
<h5 id="create-canvaspanel-as-root-wdiget-at-run-time-and-add-button-inside-it">Create CanvasPanel As Root Wdiget at Run-time and Add Button Inside It.</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> UMyUserWidget<span style="color:#f92672">::</span>NativeConstruct()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Super<span style="color:#f92672">::</span>NativeConstruct();
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">auto</span> MyCanvas <span style="color:#f92672">=</span> WidgetTree<span style="color:#f92672">-&gt;</span>ConstructWidget<span style="color:#f92672">&lt;</span>UCanvasPanel<span style="color:#f92672">&gt;</span>(UCanvasPanel<span style="color:#f92672">::</span>StaticClass());
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(MyCanvas)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">auto</span> MyButton <span style="color:#f92672">=</span> WidgetTree<span style="color:#f92672">-&gt;</span>ConstructWidget<span style="color:#f92672">&lt;</span>UButton<span style="color:#f92672">&gt;</span>(UButton<span style="color:#f92672">::</span>StaticClass());
</span></span><span style="display:flex;"><span>        MyCanvas<span style="color:#f92672">-&gt;</span>AddChild(MyButton);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        WidgetTree<span style="color:#f92672">-&gt;</span>RootWidget <span style="color:#f92672">=</span> MyCanvas;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Reference: Create widget in pure C++<br>
<a href="https://answers.unrealengine.com/questions/470481/create-widget-in-pure-c.html">https://answers.unrealengine.com/questions/470481/create-widget-in-pure-c.html</a></p>
<h5 id="filling-horizontalboxslot-at-run-time">Filling HorizontalBoxSlot At Run-time</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> UBags<span style="color:#f92672">::</span>NativeConstruct()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Super<span style="color:#f92672">::</span>NativeConstruct();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//Get HorizontalBox in Widget Blueprint.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    UHorizontalBox<span style="color:#f92672">*</span> HorBox <span style="color:#f92672">=</span> Cast<span style="color:#f92672">&lt;</span>UHorizontalBox<span style="color:#f92672">&gt;</span>(GetWidgetFromName(FName(<span style="color:#e6db74">&#34;HorizontalBox_62&#34;</span>)));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (HorBox)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//Load Item Blueprint
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (UClass<span style="color:#f92672">*</span> MyWidgetClass <span style="color:#f92672">=</span> LoadClass<span style="color:#f92672">&lt;</span>UMyItemWidget<span style="color:#f92672">&gt;</span>(NULL, TEXT(<span style="color:#e6db74">&#34;WidgetBlueprint&#39;/Game/UI/ItemBP.ItemBP_C&#39;&#34;</span>)))
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                FString ChildID <span style="color:#f92672">=</span> FString<span style="color:#f92672">::</span>Printf(TEXT(<span style="color:#e6db74">&#34;MyWidget_%d&#34;</span>), i);
</span></span><span style="display:flex;"><span>                UMyItemWidget<span style="color:#f92672">*</span> Item <span style="color:#f92672">=</span> WidgetTree<span style="color:#f92672">-&gt;</span>ConstructWidget<span style="color:#f92672">&lt;</span>UMyItemWidget<span style="color:#f92672">&gt;</span>(MyWidgetClass, ChildID);
</span></span><span style="display:flex;"><span>                UPanelSlot<span style="color:#f92672">*</span> Slot <span style="color:#f92672">=</span> HorBox<span style="color:#f92672">-&gt;</span>AddChild(Item);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (UHorizontalBoxSlot<span style="color:#f92672">*</span> HorSlot <span style="color:#f92672">=</span> Cast<span style="color:#f92672">&lt;</span>UHorizontalBoxSlot<span style="color:#f92672">&gt;</span>(Slot))
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e">//Set Size Mode as Fill
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    FSlateChildSize <span style="color:#a6e22e">Size</span>(ESlateSizeRule<span style="color:#f92672">::</span>Type<span style="color:#f92672">::</span>Fill);
</span></span><span style="display:flex;"><span>                    HorSlot<span style="color:#f92672">-&gt;</span>SetSize(Size);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e">//Set Align as Center in Horizontal direction.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    HorSlot<span style="color:#f92672">-&gt;</span>SetHorizontalAlignment(EHorizontalAlignment<span style="color:#f92672">::</span>HAlign_Center);
</span></span><span style="display:flex;"><span>                    
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e">//Set Align as Center in Vertical direction.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    HorSlot<span style="color:#f92672">-&gt;</span>SetVerticalAlignment(EVerticalAlignment<span style="color:#f92672">::</span>VAlign_Center);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="alert warning ">
  <p>You must pass different argument <code>WidgetName</code> for each child widget when create multiple child using <code>WidgetTree-&gt;ConstructWidget()</code>, otherwise events (e.g. OnClicked) of child widget will not work.</p>
</div>
<h5 id="filling-uniformgridpanel-at-run-time">Filling UniformGridPanel At Run-time</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> UMyUserWidget<span style="color:#f92672">::</span>NativeConstruct()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Super<span style="color:#f92672">::</span>NativeConstruct();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//Get UniformGridPanel in Widget Blueprint.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    UUniformGridPanel<span style="color:#f92672">*</span> UniGrid <span style="color:#f92672">=</span> Cast<span style="color:#f92672">&lt;</span>UUniformGridPanel<span style="color:#f92672">&gt;</span>(GetWidgetFromName(FName(<span style="color:#e6db74">&#34;UniformGridPanel_01&#34;</span>)));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (UniGrid)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        UButton<span style="color:#f92672">*</span> MyButton <span style="color:#f92672">=</span> WidgetTree<span style="color:#f92672">-&gt;</span>ConstructWidget<span style="color:#f92672">&lt;</span>UButton<span style="color:#f92672">&gt;</span>(UButton<span style="color:#f92672">::</span>StaticClass());
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(UUniformGridSlot<span style="color:#f92672">*</span> Slot <span style="color:#f92672">=</span> UniGrid<span style="color:#f92672">-&gt;</span>AddChildToUniformGrid(MyButton))
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//Set the horizontal index and vertical index of Grid.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            Slot<span style="color:#f92672">-&gt;</span>SetRow(<span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>            Slot<span style="color:#f92672">-&gt;</span>SetColumn(<span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h5 id="get-and-set-index-of-grid-of-uniformgridpanel-in-batch">Get And Set index of Grid of UniformGridPanel In Batch</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span>TArray<span style="color:#f92672">&lt;</span>UPanelSlot<span style="color:#f92672">*&gt;</span> Slots <span style="color:#f92672">=</span> UniformGridPanel<span style="color:#f92672">-&gt;</span>GetSlots();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span>  index <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (UPanelSlot<span style="color:#f92672">*</span> Slot : Slots)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    UUniformGridSlot <span style="color:#f92672">*</span> UniSlot <span style="color:#f92672">=</span> Cast<span style="color:#f92672">&lt;</span>UUniformGridSlot<span style="color:#f92672">&gt;</span>(Slot);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (UniSlot)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        UniSlot<span style="color:#f92672">-&gt;</span>SetRow(index);
</span></span><span style="display:flex;"><span>        UniSlot<span style="color:#f92672">-&gt;</span>SetColumn(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    index<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h5 id="how-to-scale-or-zoom-a-widget">How to scale or zoom a widget?</h5>
<p>For Mouse Zoom:</p>
<ul>
<li>override onMouseWheel</li>
<li>add Wheel Delta to Panning Canvas&rsquo; Render Transform Scale</li>
<li>clamp min result to something above 0 (widgets flip if scaled below 0) and max to your desired max zoom</li>
<li>Set Render Scale of the Panning Canvas with the result of the above</li>
</ul>
<p>Reference: How to scale/zoom a widget with blueprints?<br>
<a href="https://answers.unrealengine.com/questions/815202/how-to-scalezoom-a-widget-with-blueprints.html">https://answers.unrealengine.com/questions/815202/how-to-scalezoom-a-widget-with-blueprints.html</a></p>
<h5 id="how-to-clip-widget-display-area">How to clip widget display area?</h5>
<p>Steps:</p>
<ul>
<li>Add a CanvasPanel as the parent of your target widget</li>
<li>set the <code>Clipping</code> of CanvasPanel to <code>Clip to Bounds</code></li>
</ul>
<p>then the part outside CanvasPanel of your target widget would be clipped.</p>
<h5 id="how-to-alter-widget-selfs-anchor-to-the-center-of-itself">How to alter widget self&rsquo;s anchor to the center of itself.</h5>
<p>Put the widget into a UCanvasPanel, then set Alignment of this UCanvasPanel as (0.5f, 0.5f):</p>
<pre><code>CanvasPanelSlot-&gt;SetAlignment(FVector2D(0.5f, 0.5f));
</code></pre>
<div class="alert danger ">
  <p><code>Alignment</code> may not work properly in PIE(I think it&rsquo;s a bug), you&rsquo;d better test it in package.</p>
</div>
<div class="alert danger ">
  <p>If UserWidget A is child of UserWidget B, UserWidget A&rsquo;s Alignment need to be set in UserWidget B, not UserWidget A!!!</p>
</div>
<h5 id="how-to-fade-in--out-widget">How to fade in / out widget</h5>
<p>Event for fade begin:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span>LerpTime <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.f</span>;
</span></span><span style="display:flex;"><span>LerpDuration <span style="color:#f92672">=</span> <span style="color:#ae81ff">1.5f</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>FLinearColor SrcColor <span style="color:#f92672">=</span> MyTextBlock<span style="color:#f92672">-&gt;</span>ColorAndOpacity.GetSpecifiedColor();
</span></span><span style="display:flex;"><span>FLinearColor DestColor <span style="color:#f92672">=</span> SrcColor;
</span></span><span style="display:flex;"><span>DestColor.A <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.f</span>;
</span></span></code></pre></div><p>in Tick()</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (LerpTime <span style="color:#f92672">&lt;</span> LerpDuration)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    LerpTime <span style="color:#f92672">+=</span> DeltaSeconds;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    FLinearColor Color <span style="color:#f92672">=</span> FMath<span style="color:#f92672">::</span>Lerp<span style="color:#f92672">&lt;</span>FLinearColor<span style="color:#f92672">&gt;</span>(SrcColor, DestColor, LerpTime <span style="color:#f92672">/</span> LerpDuration);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    MyTextBlock<span style="color:#f92672">-&gt;</span>SetColorAndOpacity(Color);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h5 id="why-umgs-event-onkeydownonkeyup-is-not-fired">Why UMG&rsquo;s Event OnKeyDown/OnKeyUp is not fired</h5>
<p>Solution:<br>
Set <code>Is Focusable</code> enable, and execute <code>SetKeyboardFocus()</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> UMyUserWidget<span style="color:#f92672">::</span>NativeConstruct()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Super<span style="color:#f92672">::</span>NativeConstruct();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    bIsFocusable <span style="color:#f92672">=</span> true;
</span></span><span style="display:flex;"><span>    SetKeyboardFocus();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Reference:<br>
<a href="https://answers.unrealengine.com/questions/409215/ui-widget-key-events-onkeydownonkeyup-not-generate.html">https://answers.unrealengine.com/questions/409215/ui-widget-key-events-onkeydownonkeyup-not-generate.html</a></p>
<h5 id="how-to-get-widget-by-class-in-current-userwidget">How to get Widget by Class in current UserWidget</h5>
<p>Get all Widget first.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> UWidgetTree<span style="color:#f92672">::</span>GetAllWidgets(TArray<span style="color:#f92672">&lt;</span>UWidget<span style="color:#f92672">*&gt;&amp;</span> Widgets) <span style="color:#66d9ef">const</span>
</span></span></code></pre></div><p>or:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">ForEachWidget</span>(TFunctionRef<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">void</span>(UWidget<span style="color:#f92672">*</span>)<span style="color:#f92672">&gt;</span> Predicate) <span style="color:#66d9ef">const</span>;
</span></span></code></pre></div><p>Then check Widget type:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(ChildWidget<span style="color:#f92672">-&gt;</span>IsA(UButton<span style="color:#f92672">::</span>StaticClass()))
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> UMyUserWidget<span style="color:#f92672">::</span>NativeConstruct()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Super<span style="color:#f92672">::</span>NativeConstruct();
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (WidgetTree)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        TArray<span style="color:#f92672">&lt;</span>UWidget<span style="color:#f92672">*&gt;</span> Widgets;
</span></span><span style="display:flex;"><span>        WidgetTree<span style="color:#f92672">-&gt;</span>GetAllWidgets(Widgets);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (UWidget<span style="color:#f92672">*</span> Widget : Widgets)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (Widget <span style="color:#f92672">&amp;&amp;</span> Widget<span style="color:#f92672">-&gt;</span>IsA(UButton<span style="color:#f92672">::</span>StaticClass()))
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (UButton<span style="color:#f92672">*</span> Btn <span style="color:#f92672">=</span> Cast<span style="color:#f92672">&lt;</span>UButton<span style="color:#f92672">&gt;</span>(Widget))
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    FScriptDelegate Del;
</span></span><span style="display:flex;"><span>                    Del.BindUFunction(<span style="color:#66d9ef">this</span>, TEXT(<span style="color:#e6db74">&#34;PlayBtnOnClickSound&#34;</span>));
</span></span><span style="display:flex;"><span>                    Btn<span style="color:#f92672">-&gt;</span>OnClicked.Add(Del);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h5 id="how-to-make-widgetcomponent-looks-like-a-billboard">How to make WidgetComponent looks like a billboard?</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span>UWidgetComponent<span style="color:#f92672">::</span>SetWidgetSpace(EWidgetSpace<span style="color:#f92672">::</span>Screen);
</span></span></code></pre></div><p>Example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>WidgetComp)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    WidgetComp <span style="color:#f92672">=</span> CreateDefaultSubobject<span style="color:#f92672">&lt;</span>UWidgetComponent<span style="color:#f92672">&gt;</span>(TEXT(<span style="color:#e6db74">&#34;WidgetComponent&#34;</span>));
</span></span><span style="display:flex;"><span>    WidgetComp<span style="color:#f92672">-&gt;</span>AttachToComponent(RootComponent, FAttachmentTransformRules<span style="color:#f92672">::</span>KeepRelativeTransform);
</span></span><span style="display:flex;"><span>    WidgetComp<span style="color:#f92672">-&gt;</span>SetWidgetClass(MyUIClass);
</span></span><span style="display:flex;"><span>    WidgetComp<span style="color:#f92672">-&gt;</span>SetVisibility(true);
</span></span><span style="display:flex;"><span>    WidgetComp<span style="color:#f92672">-&gt;</span>SetWidgetSpace(EWidgetSpace<span style="color:#f92672">::</span>Screen);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="widget-layout-library">Widget Layout Library</h3>
<h5 id="how-to-get-the-scale-of-viewport">How to get the scale of viewport</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span>FVector2D UWidgetLayoutLibrary<span style="color:#f92672">::</span>GetViewportScale(UObject<span style="color:#f92672">*</span> WorldContextObject);
</span></span></code></pre></div><h5 id="how-to-get-the-viewport-size">How to get the viewport size</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span>FVector2D UWidgetLayoutLibrary<span style="color:#f92672">::</span>GetViewportSize(UObject<span style="color:#f92672">*</span> WorldContextObject);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> APlayerController<span style="color:#f92672">::</span>GetViewportSize(int32<span style="color:#f92672">&amp;</span> SizeX, int32<span style="color:#f92672">&amp;</span> SizeY) <span style="color:#66d9ef">const</span>;
</span></span></code></pre></div><h5 id="how-to-get-the-geometry-of-all-widgets-in-viewport-or-playerscreen">How to get the Geometry of all widgets in Viewport or PlayerScreen</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span>FGeometry UWidgetLayoutLibrary<span style="color:#f92672">::</span>GetViewportWidgetGeometry(UObject<span style="color:#f92672">*</span> WorldContextObject);
</span></span><span style="display:flex;"><span>FGeometry UWidgetLayoutLibrary<span style="color:#f92672">::</span>GetPlayerScreenWidgetGeometry(APlayerController<span style="color:#f92672">*</span> PlayerController);
</span></span></code></pre></div><h5 id="how-to-get-mouse-position">How to get mouse position</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#75715e">//Gets the platform&#39;s mouse cursor position.  This is the &#39;absolute&#39; desktop location of the mouse.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>FVector2D UWidgetLayoutLibrary<span style="color:#f92672">::</span>GetMousePositionOnPlatform();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//Gets the platform&#39;s mouse cursor position in the local space of the viewport widget.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>FVector2D UWidgetLayoutLibrary<span style="color:#f92672">::</span>GetMousePositionOnViewport(UObject<span style="color:#f92672">*</span> WorldContextObject);
</span></span></code></pre></div><h5 id="how-to-removes-all-widgets-from-the-viewport">How to removes all widgets from the viewport</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> UWidgetLayoutLibrary<span style="color:#f92672">::</span>RemoveAllWidgets(UObject<span style="color:#f92672">*</span> WorldContextObject);
</span></span></code></pre></div><h3 id="widget-blueprint-library">Widget Blueprint Library</h3>
<h5 id="how-to-disable-input-for-gameplay-while-widget-was-opened">How to disable input for gameplay while widget was opened</h5>
<p>WidgetBlueprintLibrary.h</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Setup an input mode that allows only the UI to respond to user input.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Note: This means that any bound Input Events in the widget will not be called!
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span>UFUNCTION(BlueprintCallable, BlueprintCosmetic, Category<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Input&#34;</span>, meta<span style="color:#f92672">=</span>(DisplayName<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Set Input Mode UI Only&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> UMG_API <span style="color:#66d9ef">void</span> SetInputMode_UIOnlyEx(APlayerController<span style="color:#f92672">*</span> PlayerController, UWidget<span style="color:#f92672">*</span> InWidgetToFocus <span style="color:#f92672">=</span> <span style="color:#66d9ef">nullptr</span>, EMouseLockMode InMouseLockMode <span style="color:#f92672">=</span> EMouseLockMode<span style="color:#f92672">::</span>DoNotLock, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">bool</span> bFlushInput <span style="color:#f92672">=</span> false);
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Setup an input mode that allows only the UI to respond to user input, and if the UI doesn&#39;t handle it player input / player controller gets a chance.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Note: This means that any bound Input events in the widget will be called.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span>UFUNCTION(BlueprintCallable, BlueprintCosmetic, Category<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Input&#34;</span>, meta <span style="color:#f92672">=</span> (DisplayName <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Set Input Mode Game And UI&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> UMG_API <span style="color:#66d9ef">void</span> SetInputMode_GameAndUIEx(APlayerController<span style="color:#f92672">*</span> PlayerController, UWidget<span style="color:#f92672">*</span> InWidgetToFocus <span style="color:#f92672">=</span> <span style="color:#66d9ef">nullptr</span>, EMouseLockMode InMouseLockMode <span style="color:#f92672">=</span> EMouseLockMode<span style="color:#f92672">::</span>DoNotLock, <span style="color:#66d9ef">bool</span> bHideCursorDuringCapture <span style="color:#f92672">=</span> true, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">bool</span> bFlushInput <span style="color:#f92672">=</span> false);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Setup an input mode that allows only player input / player controller to respond to user input.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Note: Any bound Input Events in this widget will be called.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span>UFUNCTION(BlueprintCallable, BlueprintCosmetic, Category<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Input&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> UMG_API <span style="color:#66d9ef">void</span> SetInputMode_GameOnly(APlayerController<span style="color:#f92672">*</span> PlayerController, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">bool</span> bFlushInput <span style="color:#f92672">=</span> false);
</span></span></code></pre></div><h3 id="umg-blueprint-case">UMG Blueprint Case</h3>
<h5 id="how-to-center-my-widgets">How to center my widgets</h5>
<p>Set up the widget as follows:</p>
<ol>
<li>Parent it to your main widget.</li>
<li>Anchor it to <code>(0.5, 0.5)</code>.</li>
<li>Set Alignment to <code>(0.5, 0.5)</code>.</li>
<li>Set position to <code>(0, 0)</code>.</li>
</ol>
<p>Reference:<br>
<a href="https://answers.unrealengine.com/questions/342663/view.html">https://answers.unrealengine.com/questions/342663/view.html</a></p>
<h5 id="how-to-set-the-scrollbox-child-button-size">How to set the scrollbox child button size?</h5>
<p>Using a Size Box to wrap the button, and set the <code>Width Override</code> and <code>Height Override</code> of Size Box.</p>
<p>Reference:<br>
<a href="https://forums.unrealengine.com/t/how-to-set-the-scrollbox-child-button-size/151275/2">https://forums.unrealengine.com/t/how-to-set-the-scrollbox-child-button-size/151275/2</a></p>
<h3 id="issues">Issues</h3>
<h5 id="textbox-doesnt-reset-input-data-even-re-create-widget-umg-cache">TextBox doesn&rsquo;t reset input data even re-create widget (UMG cache)</h5>
<p>Caused by:<br>
Parameter <code>WidgetName</code> isn&rsquo;t null. e.g.:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span>MyWidget <span style="color:#f92672">=</span> CreateWidget<span style="color:#f92672">&lt;</span>UBaseUserWidget<span style="color:#f92672">&gt;</span>(MyPlayerController, widgetClass, TEXT(<span style="color:#e6db74">&#34;TestWidget&#34;</span>));
</span></span></code></pre></div><p>Solution:<br>
Pass parameter <code>WidgetName</code> with default value:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C++" data-lang="C++"><span style="display:flex;"><span>MyWidget <span style="color:#f92672">=</span> CreateWidget<span style="color:#f92672">&lt;</span>UBaseUserWidget<span style="color:#f92672">&gt;</span>(MyPlayerController, widgetClass);
</span></span></code></pre></div><h5 id="cursor-disappeared-after-clicking-button">Cursor disappeared after clicking button</h5>
<p>If there is a button in UMG and the mouse cursor disappears as soon as the mouse is placed on it when the game is running, the reason is that the <code>IsFocusable</code> property of the button is set to false.</p>
<hr>
<p><code>你讨厌的昨天，是再也回不去的从前。你喜欢的未来，是某一天会怀念的现在。 ---莫书</code></p>
              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small"></span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://dawnarc.com/tags/ue4/">UE4</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://dawnarc.com/2018/12/ue4packagingresults-error-bad-name-index/" data-tooltip="[UE4]PackagingResults Error Bad name index">
              
                  <i class="fa fa-angle-left"></i>
                  
                  NEXT
                  <span class="hide-xs hide-sm text-small icon-ml"></span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://dawnarc.com/2018/11/c-const_cast/" data-tooltip="[C&#43;&#43;]const_cast">
              
                  <span class="hide-xs hide-sm text-small icon-mr"></span>
                  
                  PREVIOUS
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

            <script src="https://utteranc.es/client.js"
  repo="dawnarc/dawnarc.github.io"
  issue-term="pathname"
  label="Comment"
  theme="github-light"
  crossorigin="anonymous"
  async>
</script>
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2026 Wang Aiguo. Powered by <A href="https://gohugo.io/"> Hugo</A> | Theme <A href="https://github.com/kakawait/hugo-tranquilpeak-theme/">Tranquilpeak</A>.
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://dawnarc.com/2018/12/ue4packagingresults-error-bad-name-index/" data-tooltip="[UE4]PackagingResults Error Bad name index">
              
                  <i class="fa fa-angle-left"></i>
                  
                  NEXT
                  <span class="hide-xs hide-sm text-small icon-ml"></span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://dawnarc.com/2018/11/c-const_cast/" data-tooltip="[C&#43;&#43;]const_cast">
              
                  <span class="hide-xs hide-sm text-small icon-mr"></span>
                  
                  PREVIOUS
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
    
      <img id="about-card-picture" src=https://dawnarc.com/avatar.jpg alt="" />
    
    
    <h4 id="about-card-name">Wang Aiguo</h4>
    
      <div id="about-card-bio">天琴殷荡紫穹，万神血染兵锋。</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Developer
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Yichang, Hubei
      </div>
    
  </div>
</div>

    

    
  
    
      
      <div id="cover" style="background-image:url('https://dawnarc.com/images/cover-v1.2.0.jpg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

	<link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/school-book.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="https://dawnarc.com/js/script-pcw6v3xilnxydl1vddzazdverrnn9ctynvnxgwho987mfyqkuylcb1nlt.min.js"></script>


<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>

<script>
document.addEventListener('DOMContentLoaded', (event) => {
  document.querySelectorAll('pre code').forEach((el) => {
    hljs.highlightElement(el);
  });
});
</script>






    
  </body>
</html>


<!DOCTYPE html>
<html lang="en">
  <head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4843403245883139"
     crossorigin="anonymous"></script>

<script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.145.0 with theme Tranquilpeak 0.4.7-BETA">
<meta name="author" content="Wang Aiguo">
<meta name="keywords" content="Maya, Rigging">
<meta name="description" content="Keywords: Animation, Maya, Rigging, IK FK Switch">


<meta property="og:description" content="Keywords: Animation, Maya, Rigging, IK FK Switch">
<meta property="og:type" content="article">
<meta property="og:title" content="[Maya]Rigging 08 - IK FK Switch">
<meta name="twitter:title" content="[Maya]Rigging 08 - IK FK Switch">
<meta property="og:url" content="https://dawnarc.com/2025/01/mayarigging-08-ik-fk-switch/">
<meta property="twitter:url" content="https://dawnarc.com/2025/01/mayarigging-08-ik-fk-switch/">
<meta property="og:site_name" content="玄冬Wong">
<meta property="og:description" content="Keywords: Animation, Maya, Rigging, IK FK Switch">
<meta name="twitter:description" content="Keywords: Animation, Maya, Rigging, IK FK Switch">
<meta property="og:locale" content="en">

  
    <meta property="article:published_time" content="2025-01-03T22:41:00">
  
  
    <meta property="article:modified_time" content="2025-04-14T17:34:57">
  
  
  
    
      <meta property="article:section" content="Maya">
    
  
  
    
      <meta property="article:tag" content="Rigging">
    
      <meta property="article:tag" content="Animation">
    
      <meta property="article:tag" content="Maya">
    
  


<meta name="twitter:card" content="summary">







  <meta property="og:image" content="https://dawnarc.com/thumbnail/beijing/thumbnail-beijing-020.jpg">
  <meta property="twitter:image" content="https://dawnarc.com/thumbnail/beijing/thumbnail-beijing-020.jpg">






    <title>[Maya]Rigging 08 - IK FK Switch</title>

    <link rel="icon" href="https://dawnarc.com/favicon.png">
    

    <link rel="canonical" href="https://dawnarc.com/2025/01/mayarigging-08-ik-fk-switch/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://dawnarc.com/css/style-twzjdbqhmnnacqs0pwwdzcdbt8yhv8giawvjqjmyfoqnvazl0dalmnhdkvp7.min.css" />
    
    
      
        <link rel="stylesheet" href="https://dawnarc.com/cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/paraiso-light.min.css">
      
    

    
    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4P9RSN4PXQ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4P9RSN4PXQ');
</script>
  
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://dawnarc.com/">玄冬Wong</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://dawnarc.com/#about">
    
    
    
      
    
    </a>
    
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    <div class="sidebar-profile">
        <a href="https://dawnarc.com/#about">
          
            <img class="sidebar-profile-picture" src=https://dawnarc.com/avatar.jpg alt="" />
          
        </a>
        <h4 class="sidebar-profile-name">Wang Aiguo</h4>
        <h5 class="sidebar-profile-bio">山河固，九边殊，万里川原，龙旗指处。</h5>
      </div>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://dawnarc.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://dawnarc.com/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://dawnarc.com/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://dawnarc.com/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://dawnarc.com/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://dawnarc.com/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://stackoverflow.com/users/1645289/protoss" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-stack-overflow"></i>
      
      <span class="sidebar-button-desc">Stack Overflow</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.facebook.com/koanland" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-facebook"></i>
      
      <span class="sidebar-button-desc">Facebook</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/dawnarc" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.instagram.com/dawn_arc/" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-instagram"></i>
      
      <span class="sidebar-button-desc">Instagram</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.linkedin.com/in/dawnarc/" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-linkedin"></i>
      
      <span class="sidebar-button-desc">Linkedin</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.pinterest.com/wangaiguo/" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-pinterest"></i>
      
      <span class="sidebar-button-desc">Pinterest</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://steamcommunity.com/id/dawnarc" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-steam"></i>
      
      <span class="sidebar-button-desc">Steam</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://twitter.com/dawn_arc" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
      
      <span class="sidebar-button-desc">Twitter</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://weibo.com/koanland" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-weibo"></i>
      
      <span class="sidebar-button-desc">Weibo</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      [Maya]Rigging 08 - IK FK Switch
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2025-01-03T22:41:00&#43;08:00">
        
  
  
  
  
    Friday, 22:41, Jan 3, 2025
  

      </time>
    
    
  
  
    <span></span>
    
      <a class="category-link" href="https://dawnarc.com/categories/maya">Maya</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
			<amp-auto-ads type="adsense"
					data-ad-client="ca-pub-4843403245883139">
			</amp-auto-ads>
            <div class="main-content-wrap">
                <ins class="adsbygoogle"
                     style="display:block;height:120px"
                     data-ad-client="ca-pub-4843403245883139"
                     data-ad-slot="2321022024"
                     data-ad-format="fluid"
                     data-full-width-responsive="true"></ins>
                <script>
                     (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
              <p>Keywords: Animation, Maya, Rigging, IK FK Switch</p>
<p>Maya Rigging series of articles:</p>
<ul>
<li><a href="https://dawnarc.com/2020/04/mayarigging-notes/">[Maya]Rigging Overview</a></li>
<li><a href="https://dawnarc.com/2020/04/mayarigging-01-joint/">[Maya]Rigging 01 - Joint</a></li>
<li><a href="https://dawnarc.com/2024/04/mayarigging-02-skinning/">[Maya]Rigging 02 - Skinning</a></li>
<li><a href="https://dawnarc.com/2024/07/mayarigging-03-visualization/">[Maya]Rigging 03 - Visualization</a></li>
<li><a href="https://dawnarc.com/2024/10/mayarigging-04-controller/">[Maya]Rigging 04 - Controller</a></li>
<li><a href="https://dawnarc.com/2024/11/mayarigging-05-attributes/">[Maya]Rigging 05 - Attributes</a></li>
<li><a href="https://dawnarc.com/2024/12/mayarigging-06-foundations-of-ik/">[Maya]Rigging 06 - Foundations of IK</a></li>
<li><a href="https://dawnarc.com/2024/12/mayarigging-07-advanced-ik/">[Maya]Rigging 07 - Advanced IK</a></li>
<li><a href="https://dawnarc.com/2025/01/mayarigging-08-ik-fk-switch/">[Maya]Rigging 08 - IK FK Switch</a></li>
<li><a href="https://dawnarc.com/2025/01/mayarigging-09-spine-fk/">[Maya]Rigging 09 - Spine FK</a></li>
<li><a href="https://dawnarc.com/2025/01/mayarigging-10-spine-ik/">[Maya]Rigging 10 - Spine IK</a></li>
<li><a href="https://dawnarc.com/2025/02/mayarigging-11-neck-and-head/">[Maya]Rigging 11 - Neck and Head</a></li>
<li><a href="https://dawnarc.com/2025/02/mayarigging-12-limbs-fk/">[Maya]Rigging 12 - Limbs FK</a></li>
<li><a href="https://dawnarc.com/2025/02/mayarigging-13-limbs-ik/">[Maya]Rigging 13 - Limbs IK</a></li>
<li><a href="https://dawnarc.com/2025/03/mayarigging-14-space-swapping/">[Maya]Rigging 14 - Space Swapping</a></li>
<li><a href="https://dawnarc.com/2025/03/mayarigging-15-arm-twist/">[Maya]Rigging 15 - Arm Twist</a></li>
<li><a href="https://dawnarc.com/2025/03/mayarigging-16-ankle-heel/">[Maya]Rigging 16 - Ankle &amp; Heel</a></li>
<li><a href="https://dawnarc.com/2025/03/mayarigging-17-clavicles-fingers/">[Maya]Rigging 17 - Clavicles &amp; Fingers</a></li>
<li><a href="https://dawnarc.com/2025/03/mayarigging-18-common-tricks/">[Maya]Rigging 18 - Common Tricks</a></li>
</ul>
<p>Asset mentioned in articles: <a href="https://github.com/dawnarc/maya_examples/tree/main/assets/#ue5_rig">UE5 Rig</a></p>
<h5 id="stage-1-limbs-fk-controller-setup">Stage 1: Limbs FK Controller Setup</h5>
<p>Take left arm joints as an example.</p>
<p>1, Duplicate the skeleton for IK and FK using.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-01.gif">
</figure>
</p>
<p><div class="alert warning ">
  <p>Make sure the distance between original skeleton and replicas are equal, because we will using position offset which was required same distance for IK and FK afterward.</p>
</div>
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-02.gif">
</figure>
</p>
<p>2, Cull the unused joints for IK and FK
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-02-A.gif">
</figure>

and create two temporary groups (IK and FK) to place IK joints and FK joints.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-03.gif">
</figure>
</p>
<div class="alert warning ">
  <p>Make sure the transformation of group has been zeroed and normalized, otherwise it will lead to deforming issue in the subsequent flow.</p>
</div>
<p>3, Create FK controllers for left arm, then match transformations and tweak the rotation.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-04.gif">
</figure>

All the FK controllers that have matched transformation and have been rotated.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-05.gif">
</figure>
</p>
<p>4, An issue need to be noted is that the pivot orientation of controller and joints are not matched.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-05-A.gif">
</figure>

Solution: Select controller first, then select source joint, Modify -&gt; Match Transformations -&gt; Match Pivots.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-05-B.gif">
</figure>

Comparison after Match Pivots:
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-05-C.gif">
</figure>

Match Pivots for all other controllers:
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-05-D.gif">
</figure>
</p>
<div class="alert warning ">
  <p>Because we will set up the limbs FK system in the follow-up article (<a href="https://dawnarc.com/2025/02/mayarigging-12-limbs-fk/">[Maya]Rigging 12 - Limbs FK</a>), if the pivot orientation of controllers hadn&rsquo;t been matched in current step, it will cause rework when setting up limb IK later.</p>
</div>
<p>5, Set up the hirearchy for FK controllers.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-06.gif">
</figure>
</p>
<p>6, Optimize the transformation of the controller. (See: <a href="https://dawnarc.com/2024/10/mayarigging-04-controller/#transform-offset-method-2nd-offset-parent-matrix">Offset Parent Matrix</a>)
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-07.gif">
</figure>
</p>
<p>7, Create an empty group, and match the transformation of group to the Control.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-08.gif">
</figure>

<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-09.gif">
</figure>
</p>
<p>8, Optimize the transformation of the group. (See: <a href="https://dawnarc.com/2024/10/mayarigging-04-controller/#transform-offset-method-2nd-offset-parent-matrix">Offset Parent Matrix</a>)
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-10.gif">
</figure>

<div class="alert warning ">
  <p>Why we don&rsquo;t zero and normalize (<strong>Freeze Transfromations</strong>) the group <strong>grp_arm_l</strong> instead of <strong>Offset Parent Matrix</strong>?<br>
Because we need to utilize the transformation of group <strong>grp_arm_l</strong> to drive joints, this requires that the transformation of joint and controller are equal.</p>
</div></p>
<p>9, Move the joints of IK and FK into the group.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-11.gif">
</figure>
</p>
<p>10, Drive the Offset Parent Matrix from Control in the Node Editor.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-12.gif">
</figure>

After the connection has been done, you will see the Offset Parent Matrix has been flag with yellow color.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-13.gif">
</figure>

Now you can drive the IK and FK using Control.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-14.gif">
</figure>

<div class="alert info ">
  <p>In current stage, we will not set up the FK system completely, just to demonstrate the driven process between FK controller (<em>ctrl_upperarm_l</em>) and group <em>arm_grp_l</em>.<br>
We will explain more details for FK controllers in later article: <a href="https://dawnarc.com/2025/02/mayarigging-12-limbs-fk/">[Maya]Rigging 12 - Limbs FK</a>.</p>
</div></p>
<p>11, Optimize the transformation of the IK joints and FK joints (also include their child joints). (See: <a href="https://dawnarc.com/2024/10/mayarigging-04-controller/#transform-offset-method-2nd-offset-parent-matrix">Offset Parent Matrix</a>)
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-15.gif">
</figure>
</p>
<div class="alert warning ">
  <p>Because we will set up the limbs FK system in the follow-up article (<a href="https://dawnarc.com/2025/02/mayarigging-12-limbs-fk/">[Maya]Rigging 12 - Limbs FK</a>), if the Offset Parent Matrix of IK joints and FK joints hadn’t been optimized in current step, it will cause rework when setting up limb IK later.</p>
</div>
<h5 id="stage-2-ik-fk-constraints">Stage 2: IK FK Constraints</h5>
<p>1, Create Parent Constraint to IK FK joint and source joint.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-16.gif">
</figure>

<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-17.gif">
</figure>

<div class="alert warning ">
  <p>Caution: Uncheck the <em>Maintain offset</em> before applying.<br>
If there are multiple node need to be as child in another node simultaneously, the transformation (position and rotation ) of parent node was calculated from transformation averages of child node by default.<br>
But in current scenario, we don&rsquo;t expect that parent&rsquo;s (original joints) position was effected by the position IK and FK joints, and we want to maintain the position of parent by self, this is why need to keep the same distance between IK FK joints and original skeleton that mentioned above.</p>
</div></p>
<p>Then you will see two switches which were used to enable or disable Offset Matrix have been created on Constraint. They&rsquo;re the final switch to IK and FK afterward.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-18.gif">
</figure>
</p>
<p>We can test the switch for IK and FK.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-19.gif">
</figure>
</p>
<p>2, Continue to setup the Constraints for the rest of joint for left arm.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-20.gif">
</figure>

The all constraints of left arm.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-21.gif">
</figure>
</p>
<p>3, Create an new controller named <em>ctrl_arm_l</em>, we will use it as switch to swap between IK and FK system.<br>
Then create two curve controls to visual tips. (How to create letter curve, see: <a href="https://dawnarc.com/2024/08/mayacurve/#type-curves">Type Curves</a>).
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-22.gif">
</figure>

Then move it into hirearchy.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-23.gif">
</figure>
</p>
<h5 id="stage-3-ik-fk-switch">Stage 3: IK FK Switch</h5>
<p>1, Create attribute on Control, this attribute is the switch to swap IK and FK.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-24.gif">
</figure>

<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-25.gif">
</figure>
</p>
<p>2, Since tweak the switch on constraint directly is not intuitive to animator, so we need to provide an visible switch.
Open Node Editor, and add nodes for constraints.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-26.gif">
</figure>
</p>
<p>Then connect <em>IK_FK_Switch</em> to all the FK switches.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-27.gif">
</figure>
</p>
<p>Then hit Tab to open command line, and create a <em>reverse</em> node.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-28.gif">
</figure>
</p>
<p>Then connect the <em>IK_FK_Switch</em> to all the IK switches, pass through <em>reverse</em> node.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-29.gif">
</figure>
</p>
<p>Finally we can switch IK and FK using the attribute of arm Control.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-30.gif">
</figure>
</p>
<p>3, Drive the attribute for visibility of visual tips.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-31.gif">
</figure>

Result:
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-32.gif">
</figure>
</p>
<p>4, We can change the display color of IK and FK joints to distinguish them.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-33.gif">
</figure>

Or Display -&gt; Wireframe Color.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-34.gif">
</figure>

Result:
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-35.gif">
</figure>

At last, restore the position of IK FK joints to original skeleton.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-36.gif">
</figure>

<div class="alert info ">
  <p>We can setup the IK FK system for left arm and legs in the same way.</p>
</div></p>
<p>5, Setup the hierarchy for other limbs: right arm, left leg and right leg.
<figure><img src="https://dawnarc.com/img/2025/20250103-%5BMaya%5DRigging%2008%20-%20IK%20FK%20Switch/%5BMaya%5DRigging-08---IK-FK-Switch-37.gif">
</figure>
</p>
<h5 id="references">References</h5>
<p>Realtime Creature Rigging Workshop (9 / 19) : Control joints<br>
<a href="https://www.youtube.com/watch?v=-3OE_uI24qs">https://www.youtube.com/watch?v=-3OE_uI24qs</a></p>
<hr>
<p><code>紫光阁名录：瓜尔佳·富德</code><br>
<code>富德（1695年—1776年），清朝瓜尔佳氏，驻防吉林，满洲正黄旗人，军机大臣。</code><br>
<code>乾隆初年，由护军升为三等侍卫，乾隆十三年（1748年），随大学士傅恒征讨大金川，官至副都统。乾隆二十年（1755年），征准噶尔，为正黄旗蒙古都统。乾隆二十四年（1759年），随兆惠征大小和卓，兵至巴达克山，因功进封一等清远成勇侯，官至御前大臣。乾隆二十五年（1760年）二月，富德入直军机处。二十七年（1762年）九月富德革。因为索贿和用人不当，两次下狱。乾隆三十八年（1773年）随军征讨小金川。乾隆四十年（1775年），金川平定，因为滥赏贪污，押送京师杀害。</code></p>
              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small"></span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://dawnarc.com/tags/rigging/">Rigging</a>

  <a class="tag tag--primary tag--small" href="https://dawnarc.com/tags/animation/">Animation</a>

  <a class="tag tag--primary tag--small" href="https://dawnarc.com/tags/maya/">Maya</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://dawnarc.com/2025/01/mayaeditor/" data-tooltip="[Maya]Editor">
              
                  <i class="fa fa-angle-left"></i>
                  
                  NEXT
                  <span class="hide-xs hide-sm text-small icon-ml"></span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://dawnarc.com/2024/12/mayarigging-07-advanced-ik/" data-tooltip="[Maya]Rigging 07 - Advanced IK">
              
                  <span class="hide-xs hide-sm text-small icon-mr"></span>
                  
                  PREVIOUS
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

            <script src="https://utteranc.es/client.js"
  repo="dawnarc/dawnarc.github.io"
  issue-term="pathname"
  label="Comment"
  theme="github-light"
  crossorigin="anonymous"
  async>
</script>
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2025 Wang Aiguo. Powered by <A href="https://gohugo.io/"> Hugo</A> | Theme <A href="https://github.com/kakawait/hugo-tranquilpeak-theme/">Tranquilpeak</A>.
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://dawnarc.com/2025/01/mayaeditor/" data-tooltip="[Maya]Editor">
              
                  <i class="fa fa-angle-left"></i>
                  
                  NEXT
                  <span class="hide-xs hide-sm text-small icon-ml"></span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://dawnarc.com/2024/12/mayarigging-07-advanced-ik/" data-tooltip="[Maya]Rigging 07 - Advanced IK">
              
                  <span class="hide-xs hide-sm text-small icon-mr"></span>
                  
                  PREVIOUS
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
    
      <img id="about-card-picture" src=https://dawnarc.com/avatar.jpg alt="" />
    
    
    <h4 id="about-card-name">Wang Aiguo</h4>
    
      <div id="about-card-bio">山河固，九边殊，万里川原，龙旗指处。</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Developer
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Yichang, Hubei
      </div>
    
  </div>
</div>

    

    
  
    
      
      <div id="cover" style="background-image:url('https://dawnarc.com/images/cover-v1.2.0.jpg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

	<link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/school-book.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="https://dawnarc.com/js/script-pcw6v3xilnxydl1vddzazdverrnn9ctynvnxgwho987mfyqkuylcb1nlt.min.js"></script>


<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>

<script>
document.addEventListener('DOMContentLoaded', (event) => {
  document.querySelectorAll('pre code').forEach((el) => {
    hljs.highlightElement(el);
  });
});
</script>






    
  </body>
</html>

